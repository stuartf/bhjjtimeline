/*! For license information please see 895-e76f4dc9ce309f18cb6f.js.LICENSE.txt */
(self.webpackChunkbhjj_timeline=self.webpackChunkbhjj_timeline||[]).push([[895],{4098:function(t,e){var n="undefined"!=typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,n,r=p(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=h(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},d.prototype.delete=function(t){delete this.map[c(t)]},d.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},d.prototype.set=function(t,e){this.map[c(t)]=l(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,o=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(D){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(t,n){return new Promise((function(r,i){var a=new w(t,n);if(a.signal&&a.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new _(o,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=d,t.Request=w,t.Response=_),e.Headers=d,e.Request=w,e.Response=_,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e},7083:function(t,e,n){"use strict";var r=n(7790),o=n(5272),i=n(1176),a=!1,s=n(3558).i8,u="<",c=">",l="%",f="locals",d=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],p=d.concat("cache"),h=/^\uFEFF/;function m(t,n){var o,i,a=n.views,s=/^[A-Za-z]+:\\|^\//.exec(t);if(s&&s.length)o=e.resolveInclude(t.replace(/^\/*/,""),n.root||"/",!0);else if(n.filename&&(i=e.resolveInclude(t,n.filename),r.existsSync(i)&&(o=i)),o||Array.isArray(a)&&a.some((function(n){return i=e.resolveInclude(t,n,!0),r.existsSync(i)}))&&(o=i),!o)throw new Error('Could not find the include file "'+n.escapeFunction(t)+'"');return o}function v(t,n){var r,o=t.filename,i=arguments.length>1;if(t.cache){if(!o)throw new Error("cache option requires a filename");if(r=e.cache.get(o))return r;i||(n=g(o).toString().replace(h,""))}else if(!i){if(!o)throw new Error("Internal EJS error: no file name or template provided");n=g(o).toString().replace(h,"")}return r=e.compile(n,t),t.cache&&e.cache.set(o,r),r}function g(t){return e.fileLoader(t)}function y(t,e,n,r,o){var i=e.split("\n"),a=Math.max(r-3,0),s=Math.min(i.length,r+3),u=o(n),c=i.slice(a,s).map((function(t,e){var n=e+a+1;return(n==r?" >> ":"    ")+n+"| "+t})).join("\n");throw t.path=u,t.message=(u||"ejs")+":"+r+"\n"+c+"\n\n"+t.message,t}function w(t){return t.replace(/;(\s*$)/,"$1")}function b(t,n){n=n||{};var r={};this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],r.client=n.client||!1,r.escapeFunction=n.escape||n.escapeFunction||i.escapeXML,r.compileDebug=!1!==n.compileDebug,r.debug=!!n.debug,r.filename=n.filename,r.openDelimiter=n.openDelimiter||e.openDelimiter||u,r.closeDelimiter=n.closeDelimiter||e.closeDelimiter||c,r.delimiter=n.delimiter||e.delimiter||l,r.strict=n.strict||!1,r.context=n.context,r.cache=n.cache||!1,r.rmWhitespace=n.rmWhitespace,r.root=n.root,r.outputFunctionName=n.outputFunctionName,r.localsName=n.localsName||e.localsName||f,r.views=n.views,r.async=n.async,r.destructuredLocals=n.destructuredLocals,r.legacyInclude=void 0===n.legacyInclude||!!n.legacyInclude,r.strict?r._with=!1:r._with=void 0===n._with||n._with,this.opts=r,this.regex=this.createRegex()}e.cache=i.cache,e.fileLoader=r.readFileSync,e.localsName=f,e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(t,e,n){var r=o.dirname,i=o.extname,a=(0,o.resolve)(n?e:r(e),t);return i(t)||(a+=".ejs"),a},e.compile=function(t,e){return e&&e.scope&&(a||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),a=!0),e.context||(e.context=e.scope),delete e.scope),new b(t,e).compile()},e.render=function(t,e,n){var r=e||{},o=n||{};return 2==arguments.length&&i.shallowCopyFromList(o,r,d),v(o,t)(r)},e.renderFile=function(){var t,n,r,o=Array.prototype.slice.call(arguments),a=o.shift(),s={filename:a};return"function"==typeof arguments[arguments.length-1]&&(t=o.pop()),o.length?(n=o.shift(),o.length?i.shallowCopy(s,o.pop()):(n.settings&&(n.settings.views&&(s.views=n.settings.views),n.settings["view cache"]&&(s.cache=!0),(r=n.settings["view options"])&&i.shallowCopy(s,r)),i.shallowCopyFromList(s,n,p)),s.filename=a):n={},function(t,n,r){var o;if(!r){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,r){try{e(o=v(t)(n))}catch(i){r(i)}}));throw new Error("Please provide a callback function")}try{o=v(t)(n)}catch(i){return r(i)}r(null,o)}(s,n,t)},e.Template=b,e.clearCache=function(){e.cache.reset()},b.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},b.prototype={createRegex:function(){var t="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=i.escapeRegExpChars(this.opts.delimiter),n=i.escapeRegExpChars(this.opts.openDelimiter),r=i.escapeRegExpChars(this.opts.closeDelimiter);return t=t.replace(/%/g,e).replace(/</g,n).replace(/>/g,r),new RegExp(t)},compile:function(){var t,e,n,r=this.opts,a="",s="",u=r.escapeFunction;if(!this.source){if(this.generateSource(),a+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName&&(a+="  var "+r.outputFunctionName+" = __append;\n"),r.destructuredLocals&&r.destructuredLocals.length){for(var c="  var __locals = ("+r.localsName+" || {}),\n",l=0;l<r.destructuredLocals.length;l++){var f=r.destructuredLocals[l];l>0&&(c+=",\n  "),c+=f+" = __locals."+f}a+=c+";\n"}!1!==r._with&&(a+="  with ("+r.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=a+this.source+s}t=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(r.filename?JSON.stringify(r.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(t="escapeFn = escapeFn || "+u.toString()+";\n"+t,r.compileDebug&&(t="rethrow = rethrow || "+y.toString()+";\n"+t)),r.strict&&(t='"use strict";\n'+t),r.debug&&console.log(t),r.compileDebug&&r.filename&&(t=t+"\n//# sourceURL="+r.filename+"\n");try{if(r.async)try{n=new Function("return (async function(){}).constructor;")()}catch(g){throw g instanceof SyntaxError?new Error("This environment does not support async/await"):g}else n=Function;e=new n(r.localsName+", escapeFn, include, rethrow",t)}catch(g){throw g instanceof SyntaxError&&(r.filename&&(g.message+=" in "+r.filename),g.message+=" while compiling ejs\n\n",g.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",g.message+="https://github.com/RyanZim/EJS-Lint",r.async||(g.message+="\n",g.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),g}var d=r.client?e:function(t){return e.apply(r.context,[t||{},u,function(e,n){var o=i.shallowCopy({},t);return n&&(o=i.shallowCopy(o,n)),function(t,e){var n=i.shallowCopy({},e);return n.filename=m(t,n),v(n)}(e,r)(o)},y])};if(d.dependencies=this.dependencies,r.filename&&"function"==typeof Object.defineProperty){var p=r.filename,h=o.basename(p,o.extname(p));try{Object.defineProperty(d,"name",{value:h,writable:!1,enumerable:!1,configurable:!0})}catch(g){}}return d},generateSource:function(){var t=this.opts;t.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,r=this.parseTemplateText(),o=this.opts.delimiter,a=this.opts.openDelimiter,s=this.opts.closeDelimiter;r&&r.length&&r.forEach((function(u,c){var l,f,d,p,v,y;if(0===u.indexOf(a+o)&&0!==u.indexOf(a+o+o)&&(f=r[c+2])!=o+s&&f!="-"+o+s&&f!="_"+o+s)throw new Error('Could not find matching close tag for "'+u+'".');if(t.legacyInclude&&(d=u.match(/^\s*include\s+(\S+)/))&&(l=r[c-1])&&(l==a+o||l==a+o+"-"||l==a+o+"_"))return p=i.shallowCopy({},n.opts),v=function(t,e){var n,r,o=i.shallowCopy({},e);r=g(n=m(t,o)).toString().replace(h,""),o.filename=n;var a=new b(r,o);return a.generateSource(),{source:a.source,filename:n,template:r}}(d[1],p),y=n.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(v.template)+"\n      , __filename = "+JSON.stringify(v.filename)+";\n      try {\n"+v.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+v.source+"    ; }).call(this)\n",n.source+=y,void n.dependencies.push(e.resolveInclude(d[1],p.filename));n.scanLine(u)}))},parseTemplateText:function(){for(var t,e=this.templateText,n=this.regex,r=n.exec(e),o=[];r;)0!==(t=r.index)&&(o.push(e.substring(0,t)),e=e.slice(t)),o.push(r[0]),e=e.slice(r[0].length),r=n.exec(e);return e&&o.push(e),o},_addOutput:function(t){if(this.truncate&&(t=t.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!t)return t;t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+t+'")\n'},scanLine:function(t){var e,n=this.opts.delimiter,r=this.opts.openDelimiter,o=this.opts.closeDelimiter;switch(e=t.split("\n").length-1,t){case r+n:case r+n+"_":this.mode=b.modes.EVAL;break;case r+n+"=":this.mode=b.modes.ESCAPED;break;case r+n+"-":this.mode=b.modes.RAW;break;case r+n+"#":this.mode=b.modes.COMMENT;break;case r+n+n:this.mode=b.modes.LITERAL,this.source+='    ; __append("'+t.replace(r+n+n,r+n)+'")\n';break;case n+n+o:this.mode=b.modes.LITERAL,this.source+='    ; __append("'+t.replace(n+n+o,n+o)+'")\n';break;case n+o:case"-"+n+o:case"_"+n+o:this.mode==b.modes.LITERAL&&this._addOutput(t),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case b.modes.EVAL:case b.modes.ESCAPED:case b.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case b.modes.EVAL:this.source+="    ; "+t+"\n";break;case b.modes.ESCAPED:this.source+="    ; __append(escapeFn("+w(t)+"))\n";break;case b.modes.RAW:this.source+="    ; __append("+w(t)+")\n";break;case b.modes.COMMENT:break;case b.modes.LITERAL:this._addOutput(t)}}else this._addOutput(t)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=i.escapeXML,e.__express=e.renderFile,e.VERSION=s,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},1176:function(t,e){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(t){return t?String(t).replace(n,"\\$&"):""};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o=/[&<>'"]/g;function i(t){return r[t]||t}e.escapeXML=function(t){return null==t?"":String(t).replace(o,i)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(t,e){for(var n in e=e||{})t[n]=e[n];return t},e.shallowCopyFromList=function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];void 0!==e[o]&&(t[o]=e[o])}return t},e.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},remove:function(t){delete this._data[t]},reset:function(){this._data={}}}},6729:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,o,i,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,o);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||o&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},8895:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var r=n(5785),o=n(7294),i=n(408),a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}var u={color:"#38ad48",enabled:!0,size:50,style:{}},c=function(t){return parseFloat(t.toString()).toString()===t.toString()?t+"px":t.toString()},l=function(t){var e=function(e){var n=e.color,r=e.enabled,i=e.size,u=e.style,l=s(e,["color","enabled","size","style"]),f=a(a({},l),{style:a({color:n,overflow:"visible",width:c(i)},u)});return r?o.createElement(t,a({},f)):null};return e.defaultProps=u,e},f=a(a({},{speed:100,still:!1,thickness:100}),{secondaryColor:"rgba(0,0,0,0.44)"});!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}("@keyframes spinners-react-diamond{25%{transform:translate(30px,-30px)}50%{transform:translate(60px)}75%{transform:translate(30px,30px)}}");var d=[{x:3,y:48},{x:18,y:33},{x:18,y:48},{x:18,y:63},{x:33,y:48},{x:33,y:18},{x:33,y:33},{x:33,y:63},{x:33,y:78},{x:48,y:3},{x:48,y:18},{x:48,y:33},{x:48,y:48},{x:48,y:63},{x:48,y:78},{x:48,y:93},{x:63,y:18},{x:63,y:33},{x:63,y:48},{x:63,y:63},{x:63,y:78},{x:78,y:33},{x:78,y:48},{x:78,y:63},{x:93,y:48}],p=function(t){var e=t.secondaryColor,n=t.speed,r=t.still,i=t.thickness,u=s(t,["secondaryColor","speed","still","thickness"]),c={animation:"spinners-react-diamond "+140/n+"s steps(2, end) infinite"};return r&&(c.animation="none"),o.createElement("svg",a({fill:"currentColor"},u,{viewBox:"0 0 96 96"}),d.map((function(t){return o.createElement("circle",{key:t.x+"-"+t.y,cx:t.x,cy:t.y,fill:e,r:i/100*2.5})})),o.createElement("g",{style:c},d.filter((function(t,e){return e<5})).map((function(t){return o.createElement("circle",{key:"h-"+t.x+"-"+t.y,cx:t.x,cy:t.y,r:i/100*3.5})}))))};p.defaultProps=f;l(p);var h=l(p);const m=t=>{let{path:e}=t;const{0:n,1:a}=(0,o.useState)(null);return(0,o.useEffect)((()=>(async t=>{const e=t.split("/"),n=e[e.length-1],o=await(0,i.main)({debug:!0,command:"convert lineage-template.jpg \\( "+n+" -gravity north -crop 640:578 -scale 640x578 \\) -gravity northwest -composite out.jpg",inputFiles:["https://dqybmc742m3hf.cloudfront.net/lineage-template.jpg",t]});return console.log(o),"data:image/png;base64,"+btoa(String.fromCharCode.apply(String,(0,r.Z)(o.outputFiles[0].content)))})(e).then(a)),[]),n?o.createElement("img",{src:n,style:{zIndex:99}}):o.createElement(h,{color:"#ff101555",secondaryColor:"#00000055",size:"960"})};m.displayName="Lineage";var v=m},9575:function(t,e,n){var r,o;o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:this,t.exports=function(n){"use strict";var o,i=(n=n||{}).Base64,a="2.6.4",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(s),c=String.fromCharCode,l=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|e>>>18&7)+c(128|e>>>12&63)+c(128|e>>>6&63)+c(128|63&e)},f=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(t){return t.replace(f,l)},p=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[s.charAt(n>>>18),s.charAt(n>>>12&63),e>=2?"=":s.charAt(n>>>6&63),e>=1?"=":s.charAt(63&n)].join("")},h=n.btoa&&"function"==typeof n.btoa?function(t){return n.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,p)},m=function(t){return h(d(String(t)))},v=function(t){return t.replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,"")},g=function(t,e){return e?v(m(t)):m(t)},y=function(t){return g(t,!0)};n.Uint8Array&&(o=function(t,e){for(var n="",r=0,o=t.length;r<o;r+=3){var i=t[r],a=t[r+1],u=t[r+2],c=i<<16|a<<8|u;n+=s.charAt(c>>>18)+s.charAt(c>>>12&63)+(void 0!==a?s.charAt(c>>>6&63):"=")+(void 0!==u?s.charAt(63&c):"=")}return e?v(n):n});var w,b=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,_=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c(55296+(e>>>10))+c(56320+(1023&e));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},E=function(t){return t.replace(b,_)},x=function(t){var e=t.length,n=e%4,r=(e>0?u[t.charAt(0)]<<18:0)|(e>1?u[t.charAt(1)]<<12:0)|(e>2?u[t.charAt(2)]<<6:0)|(e>3?u[t.charAt(3)]:0),o=[c(r>>>16),c(r>>>8&255),c(255&r)];return o.length-=[0,0,2,1][n],o.join("")},D=n.atob&&"function"==typeof n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/\S{1,4}/g,x)},O=function(t){return D(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},S=function(t){return E(D(t))},F=function(t){return String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},k=function(t){return S(F(t))};n.Uint8Array&&(w=function(t){return Uint8Array.from(O(F(t)),(function(t){return t.charCodeAt(0)}))});var A=function(){var t=n.Base64;return n.Base64=i,t};if(n.Base64={VERSION:a,atob:O,btoa:h,fromBase64:k,toBase64:g,utob:d,encode:g,encodeURI:y,btou:E,decode:k,noConflict:A,fromUint8Array:o,toUint8Array:w},"function"==typeof Object.defineProperty){var M=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",M((function(){return k(this)}))),Object.defineProperty(String.prototype,"toBase64",M((function(t){return g(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",M((function(){return g(this,!0)})))}}return n.Meteor&&(Base64=n.Base64),t.exports?t.exports.Base64=n.Base64:void 0===(r=function(){return n.Base64}.apply(e,[]))||(t.exports=r),{Base64:n.Base64}}(o)},8689:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(2210),a=o(n(4098)),s=n(4358),u=n(5800),c=n(4492),l=n(3543),f=n(8755),d=n(9195),p=n(8030),h=n(9268),m=n(3391),v=n(5278),g=n(3029),y=n(8595);class w{constructor(t,e,n=!1,r,o,i){this.name=t,this.content=e,this.url=r,this.width=o,this.height=i,n&&y.protectFile(t)}infoOne(){return r(this,void 0,void 0,(function*(){var t=yield this.info();if(!t||!t.length)throw new Error("Expected image info extract to work");return t[0]}))}info(){return new Promise((t=>{this._info?t(this._info):f.imageInfo(this).then((e=>{this._info=(e||[]).map((t=>t.image)),t(this._info)}))}))}size(){return r(this,void 0,void 0,(function*(){if(this.width&&this.height)return{width:this.width,height:this.height};var t=yield this.infoOne();return this.width=t.geometry?t.geometry.width:this.width,this.height=t.geometry?t.geometry.height:this.height,{width:this.width||0,height:this.height||0}}))}widthXHeight(){return r(this,void 0,void 0,(function*(){if(this.width&&this.height)return`${this.width}x${this.height}`;var t=yield this.size();return`${t.width}x${t.height}`}))}mimeType(){return r(this,void 0,void 0,(function*(){return(yield this.infoOne()).mimeType}))}pixel(t,e){return r(this,void 0,void 0,(function*(){return this._pixels?d.rgbaToString(this._pixels[d.coordsToIndex(this.width,t,e)]):yield d.imagePixelColor(this,t,e)}))}rgba(t,e){return r(this,void 0,void 0,(function*(){return yield this.pixelCalculate(),this._pixels[d.coordsToIndex(this.width,t,e)]}))}pixelCalculate(){return r(this,void 0,void 0,(function*(){this._pixels=yield d.getPixels(this)}))}asDataUrl(t){return r(this,void 0,void 0,(function*(){return w.toDataUrl(this,t)}))}asBase64(t){return w.toBase64(t)}equals(t){return r(this,void 0,void 0,(function*(){return yield l.imageCompare(this,t)}))}asArrayBuffer(){return r(this,void 0,void 0,(function*(){return this.content.buffer}))}asHTMLImageData(){return r(this,void 0,void 0,(function*(){var t=yield this.asRGBAImageData();return new ImageData(t.data,t.width,t.height)}))}asRGBAImageData(){return r(this,void 0,void 0,(function*(){var t=yield this.size(),{outputFiles:e}=this.name.endsWith(".rgba")&&this.width&&this.height?{outputFiles:[this]}:yield h.run({script:`convert ${yield this.sizeDepthArgs()} '${this.name}[0]' ${yield this.sizeDepthArgs(!1)} output.rgba`,inputFiles:[this]});return{data:new Uint8ClampedArray(e[0].content.buffer),width:t.width,height:t.height}}))}sizeDepthArgs(t=!0){return r(this,void 0,void 0,(function*(){return w.getSizeDepthArgs(this,t)}))}static getSizeDepthArgs(t,e=!0){return r(this,void 0,void 0,(function*(){return!e||t.name.endsWith(".rgba")?`-size ${yield t.widthXHeight()} -depth 8`:""}))}static toDataUrl(t,e){return r(this,void 0,void 0,(function*(){return yield c.toDataUrl(t,e)}))}static fromUrl(t,e={}){return r(this,void 0,void 0,(function*(){try{const n=yield a.default(t,e);return new w(e.name||u.getFileNameFromUrl(t),new Uint8ClampedArray(yield n.arrayBuffer()),e.protected,t)}catch(n){return void console.error(n)}}))}static fromArrayBuffer(t,e={}){return r(this,void 0,void 0,(function*(){const n=new w(e.name||"unknown",new Uint8ClampedArray(t),e.protected);if(!e.name){const t=yield n.infoOne();return new w(t.format?"unammed."+t.format.toLowerCase():"unknown",n.content,e.protected)}return n}))}static fromFile(t,e={}){if(!u.isNode())throw new Error("File.readFile() called in the browser.");try{return new w(e.name||u.basename(t),new Uint8ClampedArray(s.readFileSync(t)),e.protected)}catch(n){return void console.error(n)}}static asString(t){return String.fromCharCode.apply(null,t.content)}static toBase64(t){return v.arrayBufferToBase64(t.content.buffer)}static fromBase64(t,e){return new w(e,Buffer.from(Base64.decode(t),"base64"))}static fromDataUrl(t,e){return w.fromBase64(v.urlToBase64(t),e)}static fromHtmlFileInputElement(t){return Promise.all(Array.from(t.files).map((t=>new Promise(((e,n)=>{var r=new FileReader;r.addEventListener("loadend",(n=>e(new w(t.name,new Uint8ClampedArray(r.result))))),r.readAsArrayBuffer(t)})))))}static resolveOne(t,e={protected:!1}){return r(this,void 0,void 0,(function*(){var n=yield w.resolve(t,e);return n.length>0?n[0]:void 0}))}static resolve(t,e={protected:!1}){return r(this,void 0,void 0,(function*(){var n=u.asArray(t||[]).filter(u.notUndefined);return(yield u.serial(n.map((t=>()=>r(this,void 0,void 0,(function*(){return"string"==typeof t?u.isNode()&&s.existsSync(t)?yield w.fromFile(t,e):yield w.fromUrl(t,e):(i.ok(ArrayBuffer.isView(t.content)),t)})))))).filter(u.notUndefined).map(w.asFile)}))}static isFile(t){return!!(t&&t.name&&t.content&&void 0!==t.constructor&&t.size&&t.infoOne)}static asFile(t){return w.isFile(t)?t:"string"==typeof t?g.readFile(t,p.getFS()):new w(t.name,t.content)}static asPath(t){return"string"==typeof t?t:t.name}static fromRGBAImageData(t,e="img.rgba"){return new w(e,t.data,void 0,void 0,t.width,t.height)}static fromHTMLImageData(t,e="img.rgba"){return w.fromRGBAImageData(t,e)}static fileExists(t){return r(this,void 0,void 0,(function*(){const{FS:e}=yield p.magickLoaded;return e.chdir(m.getOption("emscriptenNodeFsRoot")),g.isDir(w.asPath(t),e)||g.isFile(w.asPath(t),e)}))}}e.File=w,w.equals=(t,e)=>w.asPath(t)!==w.asPath(e)},8595:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3029);e.protectFile=function(t,e=!0){o[r.getFilePath(t)]=e},e.isProtectedFile=function(t){return o[r.getFilePath(t)]};const o={}},4492:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(8689);e.toDataUrl=function(t,e){return r(this,void 0,void 0,(function*(){return"data:"+(e=e||(yield t.mimeType()))+";"+t.name+";base64,"+i.File.toBase64(t)}))},e.toDataUrlSync=function(t,e=`image/${o.getFileExtension(t.name)}`){return`data:${e};base64,${btoa(t.content.reduce(((t,e)=>t+String.fromCharCode(e)),""))}`},e.loadHtmlImageElement=function(t,e,n=!1){return r(this,void 0,void 0,(function*(){var r=e||new Image;return!n&&t.url?r.src=t.url:r.src=yield t.asDataUrl(),r}))},e.loadHtmlCanvasElement=function(t,e,n=0,o=0,i=void 0,a=void 0,s=void 0,u=void 0){return r(this,void 0,void 0,(function*(){var r=yield t.asHTMLImageData();void 0===i||void 0===a||void 0===s||void 0===u?e.putImageData(r,n,o):e.putImageData(r,n,o,i,a,s,u)}))}},3543:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(8689),i=n(1983);function a(t,e){return r(this,void 0,void 0,(function*(){const n=yield i.main({inputFiles:[t,e],command:["convert",t.name,e.name,"-resize","256x256^!","-metric","RMSE","-format","%[distortion]","-compare","info:info.txt"]}),r=o.File.asString(n.outputFiles[0]);return parseFloat(r)}))}e.imageCompare=function(t,e,n=.015){return r(this,void 0,void 0,(function*(){if(!t||!e)return!1;return(yield a(t,e))<=n}))},e.imageCompareNumber=a},8755:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(1270),i=n(5800),a=n(8689),s=n(1983);e.imageInfo=function(t){return r(this,void 0,void 0,(function*(){if(!t)return Promise.resolve([]);var e=yield Promise.all(i.asArray(t).map((t=>r(this,void 0,void 0,(function*(){return"string"==typeof t?yield a.File.resolve(t):[t]})))));const n=yield s.main({inputFiles:e.flat().filter(i.notUndefined),command:["convert",...i.asArray(t).map((t=>"string"==typeof t?t:t.name)),"imgInfo.json"]});o.equal(n.outputFiles.length,1);const u=a.File.asString(n.outputFiles[0]);return JSON.parse(u)}))}},9195:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(8689),a=n(1983);function s(t,e,n){const r=u(t.width,e,n),o=t.content;return{r:o[r],g:o[r+1],b:o[r+2],a:o[r+3]}}function u(t,e,n){return 4*(t*n+e)}function c(t){return`rgba(${t.r},${t.g},${t.b},${t.a})`}function l(t){return t.name.endsWith("rgba")&&t.width&&t.content instanceof Uint8ClampedArray}e.getRgbaPixel=s,e.coordsToIndex=u,e.getPixels=function(t){return r(this,void 0,void 0,(function*(){var e=yield t.asRGBAImageData(),n=[];for(let r=0;r<e.height;r++)for(let o=0;o<e.width;o++)n.push(s(t,o,r));return n}))},e.imagePixelColor=function(t,e,n){return r(this,void 0,void 0,(function*(){if(t){var r=i.File.asFile(t);if(l(r)){return c(s(r,e,n))}{const{outputFiles:r}=yield a.main({inputFiles:[t],command:`convert ${t.name} -format %[pixel:p{${e},${n}}] info:info.txt`});return(yield i.File.asString(r[0]))||void 0}}}))},e.rgbaToString=c,e.isRgbaImage=l,e.colorCount=function(t){return r(this,void 0,void 0,(function*(){if(!t)return;const{outputFiles:e}=yield a.main({inputFiles:[t],command:`convert ${t.name} -unique-colors -format %w info:info.txt`});var n=yield i.File.asString(e[0]);return parseInt(n)||void 0}))},e.parseConvertVerbose=function(t){var e=/([^=]+)=>([^\s]+)\s+([a-zA-Z0-9]+)\s+([^=]+)=>([^\s]+)/,n=/([^=]+)=>([^\s]+)\s+([a-zA-Z0-9]+)\s+([^\s]+)/;return t.map((t=>e.exec(t)||n.exec(t))).filter(o.notFalsy).map((t=>{var e=t[4].split("x"),n=t[Math.min(t.length-1,6)].split("x");return{inputName:t[1],outputName:t[2],inputFormat:t[3].toLowerCase(),inputSize:{width:parseInt(e[0]),height:parseInt(e[1])},outputSize:{width:parseInt(n[0]),height:parseInt(n[1])}}}))}},1165:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(1983),a=n(8755);let s,u,c;e.getConfigureFolders=function(){return r(this,void 0,void 0,(function*(){const t=yield i.main({command:"convert -debug configure rose: info:"}),e="Searching for configure file:";return t.stderr.filter((t=>t.includes(e))).map((t=>t.substring(t.indexOf(e)+29,t.length))).map((t=>t.replace(/\/\//g,"/"))).map((t=>t.substring(0,t.lastIndexOf("/")))).map((t=>t.replace(/"/g,"").trim()))}))},e.listConfigure=function(){return r(this,void 0,void 0,(function*(){if(!s){const t=yield i.main({command:"convert -list configure"}),e=t.stderr.find((t=>t.trim().toLowerCase().startsWith("delegates"))),n=e?e.split(/\s+/).splice(1):[],r=t.stderr.find((t=>t.trim().toLowerCase().startsWith("features"))),o=r?r.split(/\s+/).splice(1):[];s={delegates:n,features:o}}return s}))},e.listFormat=function(){return r(this,void 0,void 0,(function*(){if(!u){const e=yield i.main({command:"convert -list format"});var t=/^\s*([^\s]+)\s+([^\s]+)\s+(.+)$/g;u=e.stdout.slice(2).map((e=>t.exec(e))).filter(o.notFalsy).filter((t=>"See"!==t[1])).map((t=>({name:t[1],flags:t[2],description:t[3]})))}return u}))},e.knownSupportedReadWriteImageFormats=["jpg","png","psd","tiff","xcf","gif","bmp","tga","miff","ico","dcm","xpm","pcx","fits","ppm","pgm","pfm","mng","hdr","dds","otb","txt","psb"],e.knownSupportedWriteOnlyImageFormats=["ps","pdf","epdf","svg","djvu"],e.knownSupportedReadOnlyImageFormats=["mat"];const l=["rose:","logo:","wizard:","granite:","netscape:"];e.imageBuiltIn=function(t){return r(this,void 0,void 0,(function*(){return c||(c=yield o.serial(l.map((t=>()=>r(this,void 0,void 0,(function*(){const e=yield a.imageInfo(t),{outputFiles:n}=yield i.main({command:`convert ${t} output1.${e[0].image.format.toLowerCase()}`,inputFiles:[]});return n[0].name=t,n[0]})))))),t?c.filter((e=>e.name===t)):c}))}},9566:function(t,e,n){const{magickLoaded:r,pushStdout:o,pushStderr:i,getOptions:a,moduleLocateFile:s,isNode:u}=n(8030),{nodeFsLocalRoot:c,emscriptenNodeFsRoot:l,debug:f,disableNodeFs:d}=a();h=void 0===h?{}:h,Object.assign(h,{noExitRuntime:!0,noInitialRun:!0,logReadFiles:f,print:o,printErr:i,preRun:function(){f&&console.log("Module.preRun. isNode: ",u()),zt.isDir(l)||zt.mkdir(l),u()&&!d&&(n(6405).existsSync(c)||n(6405).mkdirSync(c,{recursive:!0}),f&&console.log(`Mounting local folder "${c}" as emscripten root folder "${l}".`),zt.mount(Bt,{root:c},l)),f&&console.log("Module.preRun <-- exiting")},onRuntimeInitialized:function(){f&&console.log("Emscripten Module.onRuntimeInitialized "),r.resolve({FS:zt,main:n(9119).C(h,zt)})},onAbort:function(t){console.error("onAbort",t),console.trace()},locateFile:s});var p,h=void 0!==h?h:{},m={};for(p in h)h.hasOwnProperty(p)&&(m[p]=h[p]);h.arguments=[],h.thisProgram="./this.program",h.quit=function(t,e){throw e},h.preRun=[],h.postRun=[];var v,g=!1,y=!1,w=!1;g="object"==typeof window,y="function"==typeof importScripts,w="object"==typeof process&&!g&&!y,v=!g&&!w&&!y;var b,_,E="";w?(E="//",h.read=function(t,e){var r;return b||(b=n(6405)),_||(_=n(8391)),t=_.normalize(t),r=b.readFileSync(t),e?r:r.toString()},h.readBinary=function(t){var e=h.read(t,!0);return e.buffer||(e=new Uint8Array(e)),j(e.buffer),e},process.argv.length>1&&(h.thisProgram=process.argv[1].replace(/\\/g,"/")),h.arguments=process.argv.slice(2),t.exports=h,process.on("unhandledRejection",en),h.quit=function(t){process.exit(t)},h.inspect=function(){return"[Emscripten Module object]"}):v?("undefined"!=typeof read&&(h.read=function(t){return read(t)}),h.readBinary=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(j("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?h.arguments=scriptArgs:void 0!==arguments&&(h.arguments=arguments),"function"==typeof quit&&(h.quit=function(t){quit(t)})):(g||y)&&(y?E=self.location.href:document.currentScript&&(E=document.currentScript.src),E=0!==E.indexOf("blob:")?E.substr(0,E.lastIndexOf("/")+1):"",h.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(h.readBinary=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),h.readAsync=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)},h.setWindowTitle=function(t){document.title=t});var x=h.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),D=h.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||x);for(p in m)m.hasOwnProperty(p)&&(h[p]=m[p]);function O(t){var e=Q[rt>>2],n=e+t+15&-16;if(n<=Wt())Q[rt>>2]=n;else if(!Vt(n))return 0;return e}function S(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":case"float":return 4;case"i64":case"double":return 8;default:if("*"===t[t.length-1])return 4;if("i"===t[0]){var e=parseInt(t.substr(1));return j(e%8==0,"getNativeTypeSize invalid bits "+e+", type "+t),e/8}return 0}}m=void 0;var F,k={"f64-rem":function(t,e){return t%e},debugger:function(){}},A=(new Array(0),0),M=function(t){A=t};"object"!=typeof WebAssembly&&D("no native wasm support detected");var P=!1;function j(t,e){t||en("Assertion failed: "+e)}function T(t,e,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":J[t>>0]=e;break;case"i16":K[t>>1]=e;break;case"i32":Q[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+pt(tempDouble)>=1?tempDouble>0?(0|vt(+mt(tempDouble/4294967296),4294967295))>>>0:~~+ht((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Q[t>>2]=tempI64[0],Q[t+4>>2]=tempI64[1];break;case"float":X[t>>2]=e;break;case"double":Z[t>>3]=e;break;default:en("invalid type for setValue: "+n)}}var C=0,R=3;function I(t,e,n,r){var o,i;"number"==typeof t?(o=!0,i=t):(o=!1,i=t.length);var a,s="string"==typeof e?e:null;if(a=n==R?r:[be,De,O][n](Math.max(i,s?1:e.length)),o){var u;for(r=a,j(0==(3&a)),u=a+(-4&i);r<u;r+=4)Q[r>>2]=0;for(u=a+i;r<u;)J[r++>>0]=0;return a}if("i8"===s)return t.subarray||t.slice?G.set(t,a):G.set(new Uint8Array(t),a),a;for(var c,l,f,d=0;d<i;){var p=t[d];0!==(c=s||e[d])?("i64"==c&&(c="i32"),T(a+d,p,c),f!==c&&(l=S(c),f=c),d+=l):d++}return a}function N(t){return ft?be(t):O(t)}var B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function L(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.subarray&&B)return B.decode(t.subarray(e,o));for(var i="";e<o;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var u=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&t[e++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function z(t,e){return t?L(G,t,e):""}function U(t,e,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a);if(s<=127){if(n>=i)break;e[n++]=s}else if(s<=2047){if(n+1>=i)break;e[n++]=192|s>>6,e[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;e[n++]=224|s>>12,e[n++]=128|s>>6&63,e[n++]=128|63&s}else{if(n+3>=i)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63,e[n++]=128|s>>6&63,e[n++]=128|63&s}}return e[n]=0,n-o}function q(t,e,n){return U(t,G,e,n)}function H(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),r<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function W(t){var e=H(t)+1,n=De(e);return U(t,J,n,e),n}function $(t,e,n){for(var r=0;r<t.length;++r)J[e++>>0]=t.charCodeAt(r);n||(J[e>>0]=0)}function V(){var t=function(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}();return h.extraStackTrace&&(t+="\n"+h.extraStackTrace()),t.replace(/__Z[\w\d_]+/g,(function(t){return t==t?t:t+" ["+t+"]"}))}var Y,J,G,K,Q,X,Z,tt=16384;function et(t,e){return t%e>0&&(t+=e-t%e),t}function nt(){h.HEAP8=J=new Int8Array(Y),h.HEAP16=K=new Int16Array(Y),h.HEAP32=Q=new Int32Array(Y),h.HEAPU8=G=new Uint8Array(Y),h.HEAPU16=new Uint16Array(Y),h.HEAPU32=new Uint32Array(Y),h.HEAPF32=X=new Float32Array(Y),h.HEAPF64=Z=new Float64Array(Y)}var rt=1403424,ot=5242880,it=h.TOTAL_MEMORY||16777216;function at(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?h.dynCall_v(n):h.dynCall_vi(n,e.arg):n(void 0===e.arg?null:e.arg)}else e()}}it<ot&&D("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+it+"! (TOTAL_STACK="+ot+")"),h.buffer?Y=h.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(F=new WebAssembly.Memory({initial:it/65536}),Y=F.buffer):Y=new ArrayBuffer(it),nt(),Q[rt>>2]=6646336;var st=[],ut=[],ct=[],lt=[],ft=!1;function dt(){ft||(ft=!0,h.noFSInit||zt.init.initialized||zt.init(),Rt.init(),at(ut))}var pt=Math.abs,ht=Math.ceil,mt=Math.floor,vt=Math.min,gt=0,yt=null,wt=null;function bt(t){gt++,h.monitorRunDependencies&&h.monitorRunDependencies(gt)}function _t(t){if(gt--,h.monitorRunDependencies&&h.monitorRunDependencies(gt),0==gt&&(null!==yt&&(clearInterval(yt),yt=null),wt)){var e=wt;wt=null,e()}}h.preloadedImages={},h.preloadedAudios={};var Et="data:application/octet-stream;base64,";function xt(t){return String.prototype.startsWith?t.startsWith(Et):0===t.indexOf(Et)}var Dt,Ot="magick.wasm";function St(){try{if(h.wasmBinary)return new Uint8Array(h.wasmBinary);if(h.readBinary)return h.readBinary(Ot);throw"both async and sync fetching of the wasm failed"}catch(D){en(D)}}function Ft(t){var e={env:t,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:k};function n(t,e){var n=t.exports;h.asm=n,_t()}if(bt(),h.instantiateWasm)try{return h.instantiateWasm(e,n)}catch(i){return D("Module.instantiateWasm callback failed with error: "+i),!1}function r(t){n(t.instance)}function o(t){(h.wasmBinary||!g&&!y||"function"!=typeof fetch?new Promise((function(t,e){t(St())})):fetch(Ot,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Ot+"'";return t.arrayBuffer()})).catch((function(){return St()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(t){D("failed to asynchronously prepare wasm: "+t),en(t)}))}return h.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||xt(Ot)||"function"!=typeof fetch?o(r):WebAssembly.instantiateStreaming(fetch(Ot,{credentials:"same-origin"}),e).then(r,(function(t){D("wasm streaming compile failed: "+t),D("falling back to ArrayBuffer instantiation"),o(r)})),{}}xt(Ot)||(Dt=Ot,Ot=h.locateFile?h.locateFile(Dt,E):E+Dt),h.asm=function(t,e,n){return e.memory=F,e.table=new WebAssembly.Table({initial:5443,maximum:5443,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,Ft(e)},ut.push({func:function(){he()}});var kt={};function At(){en()}function Mt(t){return h.___errno_location&&(Q[h.___errno_location()>>2]=t),t}function Pt(t,e){var n;if(0===t)n=Date.now();else{if(1!==t||!(w||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now))return Mt(22),-1;n=At()}return Q[e>>2]=n/1e3|0,Q[e+4>>2]=n%1e3*1e3*1e3|0,0}var jt={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||jt.infos[t])return t;for(var e in jt.infos)for(var n=+e,r=jt.infos[n].adjusted,o=r.length,i=0;i<o;i++)if(r[i]===t)return n;return t},addRef:function(t){t&&jt.infos[t].refcount++},decRef:function(t){if(t){var e=jt.infos[t];j(e.refcount>0),e.refcount--,0!==e.refcount||e.rethrown||(e.destructor&&h.dynCall_vi(e.destructor,t),delete jt.infos[t],function(t){try{return ye(t)}catch(e){}}(t))}},clearRef:function(t){t&&(jt.infos[t].refcount=0)}};var Tt={splitPath:function(t){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1)},normalizeArray:function(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},normalize:function(t){var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=Tt.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},dirname:function(t){var e=Tt.splitPath(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)},extname:function(t){return Tt.splitPath(t)[3]},join:function(){var t=Array.prototype.slice.call(arguments,0);return Tt.normalize(t.join("/"))},join2:function(t,e){return Tt.normalize(t+"/"+e)}},Ct={resolve:function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var r=n>=0?arguments[n]:zt.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,e="/"===r.charAt(0)}return(e?"/":"")+(t=Tt.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."},relative:function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=Ct.resolve(t).substr(1),e=Ct.resolve(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),i=Math.min(r.length,o.length),a=i,s=0;s<i;s++)if(r[s]!==o[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}},Rt={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){Rt.ttys[t]={input:[],output:[],ops:e},zt.registerDevice(t,Rt.stream_ops)},stream_ops:{open:function(t){var e=Rt.ttys[t.node.rdev];if(!e)throw new zt.ErrnoError(19);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.flush(t.tty)},flush:function(t){t.tty.ops.flush(t.tty)},read:function(t,e,n,r,o){if(!t.tty||!t.tty.ops.get_char)throw new zt.ErrnoError(6);for(var i=0,a=0;a<r;a++){var s;try{s=t.tty.ops.get_char(t.tty)}catch(u){throw new zt.ErrnoError(5)}if(void 0===s&&0===i)throw new zt.ErrnoError(11);if(null==s)break;i++,e[n+a]=s}return i&&(t.node.timestamp=Date.now()),i},write:function(t,e,n,r,o){if(!t.tty||!t.tty.ops.put_char)throw new zt.ErrnoError(6);try{for(var i=0;i<r;i++)t.tty.ops.put_char(t.tty,e[n+i])}catch(a){throw new zt.ErrnoError(5)}return r&&(t.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if(w){var n=new Buffer(256),r=0,o="win32"!=process.platform,i=process.stdin.fd;if(o){var a=!1;try{i=ue.openSync("/dev/stdin","r"),a=!0}catch(s){}}try{r=ue.readSync(i,n,0,256,null)}catch(s){if(-1==s.toString().indexOf("EOF"))throw s;r=0}a&&ue.closeSync(i),e=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n");if(!e)return null;t.input=le(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(x(L(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(x(L(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(D(L(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(D(L(t.output,0)),t.output=[])}}},It={ops_table:null,mount:function(t){return It.createNode(null,"/",16895,0)},createNode:function(t,e,n,r){if(zt.isBlkdev(n)||zt.isFIFO(n))throw new zt.ErrnoError(1);It.ops_table||(It.ops_table={dir:{node:{getattr:It.node_ops.getattr,setattr:It.node_ops.setattr,lookup:It.node_ops.lookup,mknod:It.node_ops.mknod,rename:It.node_ops.rename,unlink:It.node_ops.unlink,rmdir:It.node_ops.rmdir,readdir:It.node_ops.readdir,symlink:It.node_ops.symlink},stream:{llseek:It.stream_ops.llseek}},file:{node:{getattr:It.node_ops.getattr,setattr:It.node_ops.setattr},stream:{llseek:It.stream_ops.llseek,read:It.stream_ops.read,write:It.stream_ops.write,allocate:It.stream_ops.allocate,mmap:It.stream_ops.mmap,msync:It.stream_ops.msync}},link:{node:{getattr:It.node_ops.getattr,setattr:It.node_ops.setattr,readlink:It.node_ops.readlink},stream:{}},chrdev:{node:{getattr:It.node_ops.getattr,setattr:It.node_ops.setattr},stream:zt.chrdev_stream_ops}});var o=zt.createNode(t,e,n,r);return zt.isDir(o.mode)?(o.node_ops=It.ops_table.dir.node,o.stream_ops=It.ops_table.dir.stream,o.contents={}):zt.isFile(o.mode)?(o.node_ops=It.ops_table.file.node,o.stream_ops=It.ops_table.file.stream,o.usedBytes=0,o.contents=null):zt.isLink(o.mode)?(o.node_ops=It.ops_table.link.node,o.stream_ops=It.ops_table.link.stream):zt.isChrdev(o.mode)&&(o.node_ops=It.ops_table.chrdev.node,o.stream_ops=It.ops_table.chrdev.stream),o.timestamp=Date.now(),t&&(t.contents[e]=o),o},getFileDataAsRegularArray:function(t){if(t.contents&&t.contents.subarray){for(var e=[],n=0;n<t.usedBytes;++n)e.push(t.contents[n]);return e}return t.contents},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array},expandFileStorage:function(t,e){var n=t.contents?t.contents.length:0;if(!(n>=e)){e=Math.max(e,n*(n<1048576?2:1.125)|0),0!=n&&(e=Math.max(e,256));var r=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(r.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e){if(0==e)return t.contents=null,void(t.usedBytes=0);if(!t.contents||t.contents.subarray){var n=t.contents;return t.contents=new Uint8Array(new ArrayBuffer(e)),n&&t.contents.set(n.subarray(0,Math.min(e,t.usedBytes))),void(t.usedBytes=e)}if(t.contents||(t.contents=[]),t.contents.length>e)t.contents.length=e;else for(;t.contents.length<e;)t.contents.push(0);t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=zt.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,zt.isDir(t.mode)?e.size=4096:zt.isFile(t.mode)?e.size=t.usedBytes:zt.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&It.resizeFileStorage(t,e.size)},lookup:function(t,e){throw zt.genericErrors[2]},mknod:function(t,e,n,r){return It.createNode(t,e,n,r)},rename:function(t,e,n){if(zt.isDir(t.mode)){var r;try{r=zt.lookupNode(e,n)}catch(i){}if(r)for(var o in r.contents)throw new zt.ErrnoError(39)}delete t.parent.contents[t.name],t.name=n,e.contents[n]=t,t.parent=e},unlink:function(t,e){delete t.contents[e]},rmdir:function(t,e){var n=zt.lookupNode(t,e);for(var r in n.contents)throw new zt.ErrnoError(39);delete t.contents[e]},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){var r=It.createNode(t,e,41471,0);return r.link=n,r},readlink:function(t){if(!zt.isLink(t.mode))throw new zt.ErrnoError(22);return t.link}},stream_ops:{read:function(t,e,n,r,o){var i=t.node.contents;if(o>=t.node.usedBytes)return 0;var a=Math.min(t.node.usedBytes-o,r);if(a>8&&i.subarray)e.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)e[n+s]=i[o+s];return a},write:function(t,e,n,r,o,i){if(!1,!r)return 0;var a=t.node;if(a.timestamp=Date.now(),e.subarray&&(!a.contents||a.contents.subarray)){if(0===a.usedBytes&&0===o)return a.contents=new Uint8Array(e.subarray(n,n+r)),a.usedBytes=r,r;if(o+r<=a.usedBytes)return a.contents.set(e.subarray(n,n+r),o),r}if(It.expandFileStorage(a,o+r),a.contents.subarray&&e.subarray)a.contents.set(e.subarray(n,n+r),o);else for(var s=0;s<r;s++)a.contents[o+s]=e[n+s];return a.usedBytes=Math.max(a.usedBytes,o+r),r},llseek:function(t,e,n){var r=e;if(1===n?r+=t.position:2===n&&zt.isFile(t.node.mode)&&(r+=t.node.usedBytes),r<0)throw new zt.ErrnoError(22);return r},allocate:function(t,e,n){It.expandFileStorage(t.node,e+n),t.node.usedBytes=Math.max(t.node.usedBytes,e+n)},mmap:function(t,e,n,r,o,i,a){if(!zt.isFile(t.node.mode))throw new zt.ErrnoError(19);var s,u,c=t.node.contents;if(2&a||c.buffer!==e&&c.buffer!==e.buffer){if((o>0||o+r<t.node.usedBytes)&&(c=c.subarray?c.subarray(o,o+r):Array.prototype.slice.call(c,o,o+r)),u=!0,!(s=be(r)))throw new zt.ErrnoError(12);e.set(c,s)}else u=!1,s=c.byteOffset;return{ptr:s,allocated:u}},msync:function(t,e,n,r,o){if(!zt.isFile(t.node.mode))throw new zt.ErrnoError(19);if(2&o)return 0;It.stream_ops.write(t,e,0,r,n,!1);return 0}}},Nt={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var t=null;return"object"==typeof window&&(t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),j(t,"IDBFS used, but indexedDB not supported"),t},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(t){return It.mount.apply(null,arguments)},syncfs:function(t,e,n){Nt.getLocalSet(t,(function(r,o){if(r)return n(r);Nt.getRemoteSet(t,(function(t,r){if(t)return n(t);var i=e?r:o,a=e?o:r;Nt.reconcile(i,a,n)}))}))},getDB:function(t,e){var n,r=Nt.dbs[t];if(r)return e(null,r);try{n=Nt.indexedDB().open(t,Nt.DB_VERSION)}catch(o){return e(o)}if(!n)return e("Unable to connect to IndexedDB");n.onupgradeneeded=function(t){var e,n=t.target.result,r=t.target.transaction;(e=n.objectStoreNames.contains(Nt.DB_STORE_NAME)?r.objectStore(Nt.DB_STORE_NAME):n.createObjectStore(Nt.DB_STORE_NAME)).indexNames.contains("timestamp")||e.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){r=n.result,Nt.dbs[t]=r,e(null,r)},n.onerror=function(t){e(this.error),t.preventDefault()}},getLocalSet:function(t,e){var n={};function r(t){return"."!==t&&".."!==t}function o(t){return function(e){return Tt.join2(t,e)}}for(var i=zt.readdir(t.mountpoint).filter(r).map(o(t.mountpoint));i.length;){var a,s=i.pop();try{a=zt.stat(s)}catch(u){return e(u)}zt.isDir(a.mode)&&i.push.apply(i,zt.readdir(s).filter(r).map(o(s))),n[s]={timestamp:a.mtime}}return e(null,{type:"local",entries:n})},getRemoteSet:function(t,e){var n={};Nt.getDB(t.mountpoint,(function(t,r){if(t)return e(t);try{var o=r.transaction([Nt.DB_STORE_NAME],"readonly");o.onerror=function(t){e(this.error),t.preventDefault()},o.objectStore(Nt.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(t){var o=t.target.result;if(!o)return e(null,{type:"remote",db:r,entries:n});n[o.primaryKey]={timestamp:o.key},o.continue()}}catch(i){return e(i)}}))},loadLocalEntry:function(t,e){var n,r;try{r=zt.lookupPath(t).node,n=zt.stat(t)}catch(o){return e(o)}return zt.isDir(n.mode)?e(null,{timestamp:n.mtime,mode:n.mode}):zt.isFile(n.mode)?(r.contents=It.getFileDataAsTypedArray(r),e(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):e(new Error("node type not supported"))},storeLocalEntry:function(t,e,n){try{if(zt.isDir(e.mode))zt.mkdir(t,e.mode);else{if(!zt.isFile(e.mode))return n(new Error("node type not supported"));zt.writeFile(t,e.contents,{canOwn:!0})}zt.chmod(t,e.mode),zt.utime(t,e.timestamp,e.timestamp)}catch(r){return n(r)}n(null)},removeLocalEntry:function(t,e){try{zt.lookupPath(t);var n=zt.stat(t);zt.isDir(n.mode)?zt.rmdir(t):zt.isFile(n.mode)&&zt.unlink(t)}catch(r){return e(r)}e(null)},loadRemoteEntry:function(t,e,n){var r=t.get(e);r.onsuccess=function(t){n(null,t.target.result)},r.onerror=function(t){n(this.error),t.preventDefault()}},storeRemoteEntry:function(t,e,n,r){var o=t.put(n,e);o.onsuccess=function(){r(null)},o.onerror=function(t){r(this.error),t.preventDefault()}},removeRemoteEntry:function(t,e,n){var r=t.delete(e);r.onsuccess=function(){n(null)},r.onerror=function(t){n(this.error),t.preventDefault()}},reconcile:function(t,e,n){var r=0,o=[];Object.keys(t.entries).forEach((function(n){var i=t.entries[n],a=e.entries[n];(!a||i.timestamp>a.timestamp)&&(o.push(n),r++)}));var i=[];if(Object.keys(e.entries).forEach((function(n){e.entries[n];t.entries[n]||(i.push(n),r++)})),!r)return n(null);var a=0,s=("remote"===t.type?t.db:e.db).transaction([Nt.DB_STORE_NAME],"readwrite"),u=s.objectStore(Nt.DB_STORE_NAME);function c(t){return t?c.errored?void 0:(c.errored=!0,n(t)):++a>=r?n(null):void 0}s.onerror=function(t){c(this.error),t.preventDefault()},o.sort().forEach((function(t){"local"===e.type?Nt.loadRemoteEntry(u,t,(function(e,n){if(e)return c(e);Nt.storeLocalEntry(t,n,c)})):Nt.loadLocalEntry(t,(function(e,n){if(e)return c(e);Nt.storeRemoteEntry(u,t,n,c)}))})),i.sort().reverse().forEach((function(t){"local"===e.type?Nt.removeLocalEntry(t,c):Nt.removeRemoteEntry(u,t,c)}))}},Bt={isWindows:!1,staticInit:function(){Bt.isWindows=!!process.platform.match(/^win/);var t=process.binding("constants");t.fs&&(t=t.fs),Bt.flagsForNodeMap={1024:t.O_APPEND,64:t.O_CREAT,128:t.O_EXCL,0:t.O_RDONLY,2:t.O_RDWR,4096:t.O_SYNC,512:t.O_TRUNC,1:t.O_WRONLY}},bufferFrom:function(t){return Buffer.alloc?Buffer.from(t):new Buffer(t)},mount:function(t){return j(w),Bt.createNode(null,"/",Bt.getMode(t.opts.root),0)},createNode:function(t,e,n,r){if(!zt.isDir(n)&&!zt.isFile(n)&&!zt.isLink(n))throw new zt.ErrnoError(22);var o=zt.createNode(t,e,n);return o.node_ops=Bt.node_ops,o.stream_ops=Bt.stream_ops,o},getMode:function(t){var e;try{e=ue.lstatSync(t),Bt.isWindows&&(e.mode=e.mode|(292&e.mode)>>2)}catch(n){if(!n.code)throw n;throw new zt.ErrnoError(-n.errno)}return e.mode},realPath:function(t){for(var e=[];t.parent!==t;)e.push(t.name),t=t.parent;return e.push(t.mount.opts.root),e.reverse(),Tt.join.apply(null,e)},flagsForNode:function(t){t&=-2097153,t&=-2049,t&=-32769,t&=-524289;var e=0;for(var n in Bt.flagsForNodeMap)t&n&&(e|=Bt.flagsForNodeMap[n],t^=n);if(t)throw new zt.ErrnoError(22);return e},node_ops:{getattr:function(t){var e,n=Bt.realPath(t);try{e=ue.lstatSync(n)}catch(r){if(!r.code)throw r;throw new zt.ErrnoError(-r.errno)}return Bt.isWindows&&!e.blksize&&(e.blksize=4096),Bt.isWindows&&!e.blocks&&(e.blocks=(e.size+e.blksize-1)/e.blksize|0),{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},setattr:function(t,e){var n=Bt.realPath(t);try{if(void 0!==e.mode&&(ue.chmodSync(n,e.mode),t.mode=e.mode),void 0!==e.timestamp){var r=new Date(e.timestamp);ue.utimesSync(n,r,r)}void 0!==e.size&&ue.truncateSync(n,e.size)}catch(o){if(!o.code)throw o;throw new zt.ErrnoError(-o.errno)}},lookup:function(t,e){var n=Tt.join2(Bt.realPath(t),e),r=Bt.getMode(n);return Bt.createNode(t,e,r)},mknod:function(t,e,n,r){var o=Bt.createNode(t,e,n,r),i=Bt.realPath(o);try{zt.isDir(o.mode)?ue.mkdirSync(i,o.mode):ue.writeFileSync(i,"",{mode:o.mode})}catch(a){if(!a.code)throw a;throw new zt.ErrnoError(-a.errno)}return o},rename:function(t,e,n){var r=Bt.realPath(t),o=Tt.join2(Bt.realPath(e),n);try{ue.renameSync(r,o)}catch(i){if(!i.code)throw i;throw new zt.ErrnoError(-i.errno)}},unlink:function(t,e){var n=Tt.join2(Bt.realPath(t),e);try{ue.unlinkSync(n)}catch(r){if(!r.code)throw r;throw new zt.ErrnoError(-r.errno)}},rmdir:function(t,e){var n=Tt.join2(Bt.realPath(t),e);try{ue.rmdirSync(n)}catch(r){if(!r.code)throw r;throw new zt.ErrnoError(-r.errno)}},readdir:function(t){var e=Bt.realPath(t);try{return ue.readdirSync(e)}catch(n){if(!n.code)throw n;throw new zt.ErrnoError(-n.errno)}},symlink:function(t,e,n){var r=Tt.join2(Bt.realPath(t),e);try{ue.symlinkSync(n,r)}catch(o){if(!o.code)throw o;throw new zt.ErrnoError(-o.errno)}},readlink:function(t){var e=Bt.realPath(t);try{return e=ue.readlinkSync(e),e=ce.relative(ce.resolve(t.mount.opts.root),e)}catch(n){if(!n.code)throw n;throw new zt.ErrnoError(-n.errno)}}},stream_ops:{open:function(t){var e=Bt.realPath(t.node);try{zt.isFile(t.node.mode)&&(t.nfd=ue.openSync(e,Bt.flagsForNode(t.flags)))}catch(n){if(!n.code)throw n;throw new zt.ErrnoError(-n.errno)}},close:function(t){try{zt.isFile(t.node.mode)&&t.nfd&&ue.closeSync(t.nfd)}catch(e){if(!e.code)throw e;throw new zt.ErrnoError(-e.errno)}},read:function(t,e,n,r,o){if(0===r)return 0;try{return ue.readSync(t.nfd,Bt.bufferFrom(e.buffer),n,r,o)}catch(i){throw new zt.ErrnoError(-i.errno)}},write:function(t,e,n,r,o){try{return ue.writeSync(t.nfd,Bt.bufferFrom(e.buffer),n,r,o)}catch(i){throw new zt.ErrnoError(-i.errno)}},llseek:function(t,e,n){var r=e;if(1===n)r+=t.position;else if(2===n&&zt.isFile(t.node.mode))try{r+=ue.fstatSync(t.nfd).size}catch(o){throw new zt.ErrnoError(-o.errno)}if(r<0)throw new zt.ErrnoError(22);return r}}},Lt={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(t){j(y),Lt.reader||(Lt.reader=new FileReaderSync);var e=Lt.createNode(null,"/",Lt.DIR_MODE,0),n={};function r(t){for(var r=t.split("/"),o=e,i=0;i<r.length-1;i++){var a=r.slice(0,i+1).join("/");n[a]||(n[a]=Lt.createNode(o,r[i],Lt.DIR_MODE,0)),o=n[a]}return o}function o(t){var e=t.split("/");return e[e.length-1]}return Array.prototype.forEach.call(t.opts.files||[],(function(t){Lt.createNode(r(t.name),o(t.name),Lt.FILE_MODE,0,t,t.lastModifiedDate)})),(t.opts.blobs||[]).forEach((function(t){Lt.createNode(r(t.name),o(t.name),Lt.FILE_MODE,0,t.data)})),(t.opts.packages||[]).forEach((function(t){t.metadata.files.forEach((function(e){var n=e.filename.substr(1);Lt.createNode(r(n),o(n),Lt.FILE_MODE,0,t.blob.slice(e.start,e.end))}))})),e},createNode:function(t,e,n,r,o,i){var a=zt.createNode(t,e,n);return a.mode=n,a.node_ops=Lt.node_ops,a.stream_ops=Lt.stream_ops,a.timestamp=(i||new Date).getTime(),j(Lt.FILE_MODE!==Lt.DIR_MODE),n===Lt.FILE_MODE?(a.size=o.size,a.contents=o):(a.size=4096,a.contents={}),t&&(t.contents[e]=a),a},node_ops:{getattr:function(t){return{dev:1,ino:void 0,mode:t.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:t.size,atime:new Date(t.timestamp),mtime:new Date(t.timestamp),ctime:new Date(t.timestamp),blksize:4096,blocks:Math.ceil(t.size/4096)}},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp)},lookup:function(t,e){throw new zt.ErrnoError(2)},mknod:function(t,e,n,r){throw new zt.ErrnoError(1)},rename:function(t,e,n){throw new zt.ErrnoError(1)},unlink:function(t,e){throw new zt.ErrnoError(1)},rmdir:function(t,e){throw new zt.ErrnoError(1)},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){throw new zt.ErrnoError(1)},readlink:function(t){throw new zt.ErrnoError(1)}},stream_ops:{read:function(t,e,n,r,o){if(o>=t.node.size)return 0;var i=t.node.contents.slice(o,o+r),a=Lt.reader.readAsArrayBuffer(i);return e.set(new Uint8Array(a),n),i.size},write:function(t,e,n,r,o){throw new zt.ErrnoError(5)},llseek:function(t,e,n){var r=e;if(1===n?r+=t.position:2===n&&zt.isFile(t.node.mode)&&(r+=t.node.size),r<0)throw new zt.ErrnoError(22);return r}}},zt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof zt.ErrnoError))throw t+" : "+V();return Mt(t.errno)},lookupPath:function(t,e){if(e=e||{},!(t=Ct.resolve(zt.cwd(),t)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===e[r]&&(e[r]=n[r]);if(e.recurse_count>8)throw new zt.ErrnoError(40);for(var o=Tt.normalizeArray(t.split("/").filter((function(t){return!!t})),!1),i=zt.root,a="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&e.parent)break;if(i=zt.lookupNode(i,o[s]),a=Tt.join2(a,o[s]),zt.isMountpoint(i)&&(!u||u&&e.follow_mount)&&(i=i.mounted.root),!u||e.follow)for(var c=0;zt.isLink(i.mode);){var l=zt.readlink(a);if(a=Ct.resolve(Tt.dirname(a),l),i=zt.lookupPath(a,{recurse_count:e.recurse_count}).node,c++>40)throw new zt.ErrnoError(40)}}return{path:a,node:i}},getPath:function(t){for(var e;;){if(zt.isRoot(t)){var n=t.mount.mountpoint;return e?"/"!==n[n.length-1]?n+"/"+e:n+e:n}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:function(t,e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r)|0;return(t+n>>>0)%zt.nameTable.length},hashAddNode:function(t){var e=zt.hashName(t.parent.id,t.name);t.name_next=zt.nameTable[e],zt.nameTable[e]=t},hashRemoveNode:function(t){var e=zt.hashName(t.parent.id,t.name);if(zt.nameTable[e]===t)zt.nameTable[e]=t.name_next;else for(var n=zt.nameTable[e];n;){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}},lookupNode:function(t,e){var n=zt.mayLookup(t);if(n)throw new zt.ErrnoError(n,t);for(var r=zt.hashName(t.id,e),o=zt.nameTable[r];o;o=o.name_next){var i=o.name;if(o.parent.id===t.id&&i===e)return o}return zt.lookup(t,e)},createNode:function(t,e,n,r){if(!zt.FSNode){zt.FSNode=function(t,e,n,r){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=zt.nextInode++,this.name=e,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},zt.FSNode.prototype={};var o=365,i=146;Object.defineProperties(zt.FSNode.prototype,{read:{get:function(){return(this.mode&o)===o},set:function(t){t?this.mode|=o:this.mode&=-366}},write:{get:function(){return(this.mode&i)===i},set:function(t){t?this.mode|=i:this.mode&=-147}},isFolder:{get:function(){return zt.isDir(this.mode)}},isDevice:{get:function(){return zt.isChrdev(this.mode)}}})}var a=new zt.FSNode(t,e,n,r);return zt.hashAddNode(a),a},destroyNode:function(t){zt.hashRemoveNode(t)},isRoot:function(t){return t===t.parent},isMountpoint:function(t){return!!t.mounted},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},isLink:function(t){return 40960==(61440&t)},isChrdev:function(t){return 8192==(61440&t)},isBlkdev:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return 49152==(49152&t)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(t){var e=zt.flagModes[t];if(void 0===e)throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:function(t,e){return zt.ignorePermissions||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:13},mayLookup:function(t){var e=zt.nodePermissions(t,"x");return e||(t.node_ops.lookup?0:13)},mayCreate:function(t,e){try{zt.lookupNode(t,e);return 17}catch(n){}return zt.nodePermissions(t,"wx")},mayDelete:function(t,e,n){var r;try{r=zt.lookupNode(t,e)}catch(i){return i.errno}var o=zt.nodePermissions(t,"wx");if(o)return o;if(n){if(!zt.isDir(r.mode))return 20;if(zt.isRoot(r)||zt.getPath(r)===zt.cwd())return 16}else if(zt.isDir(r.mode))return 21;return 0},mayOpen:function(t,e){return t?zt.isLink(t.mode)?40:zt.isDir(t.mode)&&("r"!==zt.flagsToPermissionString(e)||512&e)?21:zt.nodePermissions(t,zt.flagsToPermissionString(e)):2},MAX_OPEN_FDS:4096,nextfd:function(t,e){t=t||0,e=e||zt.MAX_OPEN_FDS;for(var n=t;n<=e;n++)if(!zt.streams[n])return n;throw new zt.ErrnoError(24)},getStream:function(t){return zt.streams[t]},createStream:function(t,e,n){zt.FSStream||(zt.FSStream=function(){},zt.FSStream.prototype={},Object.defineProperties(zt.FSStream.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new zt.FSStream;for(var o in t)r[o]=t[o];t=r;var i=zt.nextfd(e,n);return t.fd=i,zt.streams[i]=t,t},closeStream:function(t){zt.streams[t]=null},chrdev_stream_ops:{open:function(t){var e=zt.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new zt.ErrnoError(29)}},major:function(t){return t>>8},minor:function(t){return 255&t},makedev:function(t,e){return t<<8|e},registerDevice:function(t,e){zt.devices[t]={stream_ops:e}},getDevice:function(t){return zt.devices[t]},getMounts:function(t){for(var e=[],n=[t];n.length;){var r=n.pop();e.push(r),n.push.apply(n,r.mounts)}return e},syncfs:function(t,e){"function"==typeof t&&(e=t,t=!1),zt.syncFSRequests++,zt.syncFSRequests>1&&console.log("warning: "+zt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=zt.getMounts(zt.root.mount),r=0;function o(t){return zt.syncFSRequests--,e(t)}function i(t){if(t)return i.errored?void 0:(i.errored=!0,o(t));++r>=n.length&&o(null)}n.forEach((function(e){if(!e.type.syncfs)return i(null);e.type.syncfs(e,t,i)}))},mount:function(t,e,n){var r,o="/"===n,i=!n;if(o&&zt.root)throw new zt.ErrnoError(16);if(!o&&!i){var a=zt.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,zt.isMountpoint(r))throw new zt.ErrnoError(16);if(!zt.isDir(r.mode))throw new zt.ErrnoError(20)}var s={type:t,opts:e,mountpoint:n,mounts:[]},u=t.mount(s);return u.mount=s,s.root=u,o?zt.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(t){var e=zt.lookupPath(t,{follow_mount:!1});if(!zt.isMountpoint(e.node))throw new zt.ErrnoError(22);var n=e.node,r=n.mounted,o=zt.getMounts(r);Object.keys(zt.nameTable).forEach((function(t){for(var e=zt.nameTable[t];e;){var n=e.name_next;-1!==o.indexOf(e.mount)&&zt.destroyNode(e),e=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(r);n.mount.mounts.splice(i,1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,n){var r=zt.lookupPath(t,{parent:!0}).node,o=Tt.basename(t);if(!o||"."===o||".."===o)throw new zt.ErrnoError(22);var i=zt.mayCreate(r,o);if(i)throw new zt.ErrnoError(i);if(!r.node_ops.mknod)throw new zt.ErrnoError(1);return r.node_ops.mknod(r,o,e,n)},create:function(t,e){return e=void 0!==e?e:438,e&=4095,e|=32768,zt.mknod(t,e,0)},mkdir:function(t,e){return e=void 0!==e?e:511,e&=1023,e|=16384,zt.mknod(t,e,0)},mkdirTree:function(t,e){for(var n=t.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{zt.mkdir(r,e)}catch(i){if(17!=i.errno)throw i}}},mkdev:function(t,e,n){return void 0===n&&(n=e,e=438),e|=8192,zt.mknod(t,e,n)},symlink:function(t,e){if(!Ct.resolve(t))throw new zt.ErrnoError(2);var n=zt.lookupPath(e,{parent:!0}).node;if(!n)throw new zt.ErrnoError(2);var r=Tt.basename(e),o=zt.mayCreate(n,r);if(o)throw new zt.ErrnoError(o);if(!n.node_ops.symlink)throw new zt.ErrnoError(1);return n.node_ops.symlink(n,r,t)},rename:function(t,e){var n,r,o=Tt.dirname(t),i=Tt.dirname(e),a=Tt.basename(t),s=Tt.basename(e);try{n=zt.lookupPath(t,{parent:!0}).node,r=zt.lookupPath(e,{parent:!0}).node}catch(p){throw new zt.ErrnoError(16)}if(!n||!r)throw new zt.ErrnoError(2);if(n.mount!==r.mount)throw new zt.ErrnoError(18);var u,c=zt.lookupNode(n,a),l=Ct.relative(t,i);if("."!==l.charAt(0))throw new zt.ErrnoError(22);if("."!==(l=Ct.relative(e,o)).charAt(0))throw new zt.ErrnoError(39);try{u=zt.lookupNode(r,s)}catch(p){}if(c!==u){var f=zt.isDir(c.mode),d=zt.mayDelete(n,a,f);if(d)throw new zt.ErrnoError(d);if(d=u?zt.mayDelete(r,s,f):zt.mayCreate(r,s))throw new zt.ErrnoError(d);if(!n.node_ops.rename)throw new zt.ErrnoError(1);if(zt.isMountpoint(c)||u&&zt.isMountpoint(u))throw new zt.ErrnoError(16);if(r!==n&&(d=zt.nodePermissions(n,"w")))throw new zt.ErrnoError(d);try{zt.trackingDelegate.willMovePath&&zt.trackingDelegate.willMovePath(t,e)}catch(p){console.log("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+p.message)}zt.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(p){throw p}finally{zt.hashAddNode(c)}try{zt.trackingDelegate.onMovePath&&zt.trackingDelegate.onMovePath(t,e)}catch(p){console.log("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+p.message)}}},rmdir:function(t){var e=zt.lookupPath(t,{parent:!0}).node,n=Tt.basename(t),r=zt.lookupNode(e,n),o=zt.mayDelete(e,n,!0);if(o)throw new zt.ErrnoError(o);if(!e.node_ops.rmdir)throw new zt.ErrnoError(1);if(zt.isMountpoint(r))throw new zt.ErrnoError(16);try{zt.trackingDelegate.willDeletePath&&zt.trackingDelegate.willDeletePath(t)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+i.message)}e.node_ops.rmdir(e,n),zt.destroyNode(r);try{zt.trackingDelegate.onDeletePath&&zt.trackingDelegate.onDeletePath(t)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+i.message)}},readdir:function(t){var e=zt.lookupPath(t,{follow:!0}).node;if(!e.node_ops.readdir)throw new zt.ErrnoError(20);return e.node_ops.readdir(e)},unlink:function(t){var e=zt.lookupPath(t,{parent:!0}).node,n=Tt.basename(t),r=zt.lookupNode(e,n),o=zt.mayDelete(e,n,!1);if(o)throw new zt.ErrnoError(o);if(!e.node_ops.unlink)throw new zt.ErrnoError(1);if(zt.isMountpoint(r))throw new zt.ErrnoError(16);try{zt.trackingDelegate.willDeletePath&&zt.trackingDelegate.willDeletePath(t)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+i.message)}e.node_ops.unlink(e,n),zt.destroyNode(r);try{zt.trackingDelegate.onDeletePath&&zt.trackingDelegate.onDeletePath(t)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+i.message)}},readlink:function(t){var e=zt.lookupPath(t).node;if(!e)throw new zt.ErrnoError(2);if(!e.node_ops.readlink)throw new zt.ErrnoError(22);return Ct.resolve(zt.getPath(e.parent),e.node_ops.readlink(e))},stat:function(t,e){var n=zt.lookupPath(t,{follow:!e}).node;if(!n)throw new zt.ErrnoError(2);if(!n.node_ops.getattr)throw new zt.ErrnoError(1);return n.node_ops.getattr(n)},lstat:function(t){return zt.stat(t,!0)},chmod:function(t,e,n){var r;"string"==typeof t?r=zt.lookupPath(t,{follow:!n}).node:r=t;if(!r.node_ops.setattr)throw new zt.ErrnoError(1);r.node_ops.setattr(r,{mode:4095&e|-4096&r.mode,timestamp:Date.now()})},lchmod:function(t,e){zt.chmod(t,e,!0)},fchmod:function(t,e){var n=zt.getStream(t);if(!n)throw new zt.ErrnoError(9);zt.chmod(n.node,e)},chown:function(t,e,n,r){var o;"string"==typeof t?o=zt.lookupPath(t,{follow:!r}).node:o=t;if(!o.node_ops.setattr)throw new zt.ErrnoError(1);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(t,e,n){zt.chown(t,e,n,!0)},fchown:function(t,e,n){var r=zt.getStream(t);if(!r)throw new zt.ErrnoError(9);zt.chown(r.node,e,n)},truncate:function(t,e){if(e<0)throw new zt.ErrnoError(22);var n;"string"==typeof t?n=zt.lookupPath(t,{follow:!0}).node:n=t;if(!n.node_ops.setattr)throw new zt.ErrnoError(1);if(zt.isDir(n.mode))throw new zt.ErrnoError(21);if(!zt.isFile(n.mode))throw new zt.ErrnoError(22);var r=zt.nodePermissions(n,"w");if(r)throw new zt.ErrnoError(r);n.node_ops.setattr(n,{size:e,timestamp:Date.now()})},ftruncate:function(t,e){var n=zt.getStream(t);if(!n)throw new zt.ErrnoError(9);if(0==(2097155&n.flags))throw new zt.ErrnoError(22);zt.truncate(n.node,e)},utime:function(t,e,n){var r=zt.lookupPath(t,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(e,n)})},open:function(t,e,n,r,o){if(""===t)throw new zt.ErrnoError(2);var i;if(n=void 0===n?438:n,n=64&(e="string"==typeof e?zt.modeStringToFlags(e):e)?4095&n|32768:0,"object"==typeof t)i=t;else{t=Tt.normalize(t);try{i=zt.lookupPath(t,{follow:!(131072&e)}).node}catch(l){}}var a=!1;if(64&e)if(i){if(128&e)throw new zt.ErrnoError(17)}else i=zt.mknod(t,n,0),a=!0;if(!i)throw new zt.ErrnoError(2);if(zt.isChrdev(i.mode)&&(e&=-513),65536&e&&!zt.isDir(i.mode))throw new zt.ErrnoError(20);if(!a){var s=zt.mayOpen(i,e);if(s)throw new zt.ErrnoError(s)}512&e&&zt.truncate(i,0),e&=-641;var u=zt.createStream({node:i,path:zt.getPath(i),flags:e,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},r,o);u.stream_ops.open&&u.stream_ops.open(u),!h.logReadFiles||1&e||(zt.readFiles||(zt.readFiles={}),t in zt.readFiles||(zt.readFiles[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{if(zt.trackingDelegate.onOpenFile){var c=0;1!=(2097155&e)&&(c|=zt.tracking.openFlags.READ),0!=(2097155&e)&&(c|=zt.tracking.openFlags.WRITE),zt.trackingDelegate.onOpenFile(t,c)}}catch(l){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+l.message)}return u},close:function(t){if(zt.isClosed(t))throw new zt.ErrnoError(9);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(e){throw e}finally{zt.closeStream(t.fd)}t.fd=null},isClosed:function(t){return null===t.fd},llseek:function(t,e,n){if(zt.isClosed(t))throw new zt.ErrnoError(9);if(!t.seekable||!t.stream_ops.llseek)throw new zt.ErrnoError(29);if(0!=n&&1!=n&&2!=n)throw new zt.ErrnoError(22);return t.position=t.stream_ops.llseek(t,e,n),t.ungotten=[],t.position},read:function(t,e,n,r,o){if(r<0||o<0)throw new zt.ErrnoError(22);if(zt.isClosed(t))throw new zt.ErrnoError(9);if(1==(2097155&t.flags))throw new zt.ErrnoError(9);if(zt.isDir(t.node.mode))throw new zt.ErrnoError(21);if(!t.stream_ops.read)throw new zt.ErrnoError(22);var i=void 0!==o;if(i){if(!t.seekable)throw new zt.ErrnoError(29)}else o=t.position;var a=t.stream_ops.read(t,e,n,r,o);return i||(t.position+=a),a},write:function(t,e,n,r,o,i){if(r<0||o<0)throw new zt.ErrnoError(22);if(zt.isClosed(t))throw new zt.ErrnoError(9);if(0==(2097155&t.flags))throw new zt.ErrnoError(9);if(zt.isDir(t.node.mode))throw new zt.ErrnoError(21);if(!t.stream_ops.write)throw new zt.ErrnoError(22);1024&t.flags&&zt.llseek(t,0,2);var a=void 0!==o;if(a){if(!t.seekable)throw new zt.ErrnoError(29)}else o=t.position;var s=t.stream_ops.write(t,e,n,r,o,i);a||(t.position+=s);try{t.path&&zt.trackingDelegate.onWriteToFile&&zt.trackingDelegate.onWriteToFile(t.path)}catch(u){console.log("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+u.message)}return s},allocate:function(t,e,n){if(zt.isClosed(t))throw new zt.ErrnoError(9);if(e<0||n<=0)throw new zt.ErrnoError(22);if(0==(2097155&t.flags))throw new zt.ErrnoError(9);if(!zt.isFile(t.node.mode)&&!zt.isDir(t.node.mode))throw new zt.ErrnoError(19);if(!t.stream_ops.allocate)throw new zt.ErrnoError(95);t.stream_ops.allocate(t,e,n)},mmap:function(t,e,n,r,o,i,a){if(1==(2097155&t.flags))throw new zt.ErrnoError(13);if(!t.stream_ops.mmap)throw new zt.ErrnoError(19);return t.stream_ops.mmap(t,e,n,r,o,i,a)},msync:function(t,e,n,r,o){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,n,r,o):0},munmap:function(t){return 0},ioctl:function(t,e,n){if(!t.stream_ops.ioctl)throw new zt.ErrnoError(25);return t.stream_ops.ioctl(t,e,n)},readFile:function(t,e){if((e=e||{}).flags=e.flags||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var n,r=zt.open(t,e.flags),o=zt.stat(t).size,i=new Uint8Array(o);return zt.read(r,i,0,o,0),"utf8"===e.encoding?n=L(i,0):"binary"===e.encoding&&(n=i),zt.close(r),n},writeFile:function(t,e,n){(n=n||{}).flags=n.flags||"w";var r=zt.open(t,n.flags,n.mode);if("string"==typeof e){var o=new Uint8Array(H(e)+1),i=U(e,o,0,o.length);zt.write(r,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");zt.write(r,e,0,e.byteLength,void 0,n.canOwn)}zt.close(r)},cwd:function(){return zt.currentPath},chdir:function(t){var e=zt.lookupPath(t,{follow:!0});if(null===e.node)throw new zt.ErrnoError(2);if(!zt.isDir(e.node.mode))throw new zt.ErrnoError(20);var n=zt.nodePermissions(e.node,"x");if(n)throw new zt.ErrnoError(n);zt.currentPath=e.path},createDefaultDirectories:function(){zt.mkdir("/tmp"),zt.mkdir("/home"),zt.mkdir("/home/web_user")},createDefaultDevices:function(){var t;if(zt.mkdir("/dev"),zt.registerDevice(zt.makedev(1,3),{read:function(){return 0},write:function(t,e,n,r,o){return r}}),zt.mkdev("/dev/null",zt.makedev(1,3)),Rt.register(zt.makedev(5,0),Rt.default_tty_ops),Rt.register(zt.makedev(6,0),Rt.default_tty1_ops),zt.mkdev("/dev/tty",zt.makedev(5,0)),zt.mkdev("/dev/tty1",zt.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);t=function(){return crypto.getRandomValues(e),e[0]}}else if(w)try{var r=n(2786);t=function(){return r.randomBytes(1)[0]}}catch(o){}t||(t=function(){en("random_device")}),zt.createDevice("/dev","random",t),zt.createDevice("/dev","urandom",t),zt.mkdir("/dev/shm"),zt.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){zt.mkdir("/proc"),zt.mkdir("/proc/self"),zt.mkdir("/proc/self/fd"),zt.mount({mount:function(){var t=zt.createNode("/proc/self","fd",16895,73);return t.node_ops={lookup:function(t,e){var n=+e,r=zt.getStream(n);if(!r)throw new zt.ErrnoError(9);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){h.stdin?zt.createDevice("/dev","stdin",h.stdin):zt.symlink("/dev/tty","/dev/stdin"),h.stdout?zt.createDevice("/dev","stdout",null,h.stdout):zt.symlink("/dev/tty","/dev/stdout"),h.stderr?zt.createDevice("/dev","stderr",null,h.stderr):zt.symlink("/dev/tty1","/dev/stderr");zt.open("/dev/stdin","r"),zt.open("/dev/stdout","w"),zt.open("/dev/stderr","w")},ensureErrnoError:function(){zt.ErrnoError||(zt.ErrnoError=function(t,e){this.node=e,this.setErrno=function(t){this.errno=t},this.setErrno(t),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},zt.ErrnoError.prototype=new Error,zt.ErrnoError.prototype.constructor=zt.ErrnoError,[2].forEach((function(t){zt.genericErrors[t]=new zt.ErrnoError(t),zt.genericErrors[t].stack="<generic error, no stack>"})))},staticInit:function(){zt.ensureErrnoError(),zt.nameTable=new Array(4096),zt.mount(It,{},"/"),zt.createDefaultDirectories(),zt.createDefaultDevices(),zt.createSpecialDirectories(),zt.filesystems={MEMFS:It,IDBFS:Nt,NODEFS:Bt,WORKERFS:Lt}},init:function(t,e,n){zt.init.initialized=!0,zt.ensureErrnoError(),h.stdin=t||h.stdin,h.stdout=e||h.stdout,h.stderr=n||h.stderr,zt.createStandardStreams()},quit:function(){zt.init.initialized=!1;var t=h._fflush;t&&t(0);for(var e=0;e<zt.streams.length;e++){var n=zt.streams[e];n&&zt.close(n)}},getMode:function(t,e){var n=0;return t&&(n|=365),e&&(n|=146),n},joinPath:function(t,e){var n=Tt.join.apply(null,t);return e&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(t,e){return Ct.resolve(e,t)},standardizePath:function(t){return Tt.normalize(t)},findObject:function(t,e){var n=zt.analyzePath(t,e);return n.exists?n.object:(Mt(n.error),null)},analyzePath:function(t,e){try{t=(r=zt.lookupPath(t,{follow:!e})).path}catch(o){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=zt.lookupPath(t,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Tt.basename(t),r=zt.lookupPath(t,{follow:!e}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(o){n.error=o.errno}return n},createFolder:function(t,e,n,r){var o=Tt.join2("string"==typeof t?t:zt.getPath(t),e),i=zt.getMode(n,r);return zt.mkdir(o,i)},createPath:function(t,e,n,r){t="string"==typeof t?t:zt.getPath(t);for(var o=e.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Tt.join2(t,i);try{zt.mkdir(a)}catch(s){}t=a}}return a},createFile:function(t,e,n,r,o){var i=Tt.join2("string"==typeof t?t:zt.getPath(t),e),a=zt.getMode(r,o);return zt.create(i,a)},createDataFile:function(t,e,n,r,o,i){var a=e?Tt.join2("string"==typeof t?t:zt.getPath(t),e):t,s=zt.getMode(r,o),u=zt.create(a,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),l=0,f=n.length;l<f;++l)c[l]=n.charCodeAt(l);n=c}zt.chmod(u,146|s);var d=zt.open(u,"w");zt.write(d,n,0,n.length,0,i),zt.close(d),zt.chmod(u,s)}return u},createDevice:function(t,e,n,r){var o=Tt.join2("string"==typeof t?t:zt.getPath(t),e),i=zt.getMode(!!n,!!r);zt.createDevice.major||(zt.createDevice.major=64);var a=zt.makedev(zt.createDevice.major++,0);return zt.registerDevice(a,{open:function(t){t.seekable=!1},close:function(t){r&&r.buffer&&r.buffer.length&&r(10)},read:function(t,e,r,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=n()}catch(c){throw new zt.ErrnoError(5)}if(void 0===u&&0===a)throw new zt.ErrnoError(11);if(null==u)break;a++,e[r+s]=u}return a&&(t.node.timestamp=Date.now()),a},write:function(t,e,n,o,i){for(var a=0;a<o;a++)try{r(e[n+a])}catch(s){throw new zt.ErrnoError(5)}return o&&(t.node.timestamp=Date.now()),a}}),zt.mkdev(o,i,a)},createLink:function(t,e,n,r,o){var i=Tt.join2("string"==typeof t?t:zt.getPath(t),e);return zt.symlink(n,i)},forceLoadFile:function(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!h.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=le(h.read(t.url),!0),t.usedBytes=t.contents.length}catch(n){e=!1}return e||Mt(5),e},createLazyFile:function(t,e,n,r,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize,n=t/this.chunkSize|0;return this.getter(n)[e]}},i.prototype.setDataGetter=function(t){this.getter=t},i.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",n,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+n+". Status: "+t.status);var e,r=Number(t.getResponseHeader("Content-length")),o=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e,i=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e,a=1048576;o||(a=r);var s=this;s.setDataGetter((function(t){var e=t*a,o=(t+1)*a-1;if(o=Math.min(o,r-1),void 0===s.chunks[t]&&(s.chunks[t]=function(t,e){if(t>e)throw new Error("invalid range ("+t+", "+e+") or no bytes requested!");if(e>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==a&&o.setRequestHeader("Range","bytes="+t+"-"+e),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):le(o.responseText||"",!0)}(e,o)),void 0===s.chunks[t])throw new Error("doXHR failed!");return s.chunks[t]})),!i&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var u=zt.createFile(t,e,s,r,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((function(t){var e=u.stream_ops[t];c[t]=function(){if(!zt.forceLoadFile(u))throw new zt.ErrnoError(5);return e.apply(null,arguments)}})),c.read=function(t,e,n,r,o){if(!zt.forceLoadFile(u))throw new zt.ErrnoError(5);var i=t.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,r);if(i.slice)for(var s=0;s<a;s++)e[n+s]=i[o+s];else for(s=0;s<a;s++)e[n+s]=i.get(o+s);return a},u.stream_ops=c,u},createPreloadedFile:function(t,e,n,r,o,i,a,s,u,c){Browser.init();var l=e?Ct.resolve(Tt.join2(t,e)):t;function f(n){function f(n){c&&c(),s||zt.createDataFile(t,e,n,r,o,u),i&&i(),_t()}var d=!1;h.preloadPlugins.forEach((function(t){d||t.canHandle(l)&&(t.handle(n,l,f,(function(){a&&a(),_t()})),d=!0)})),d||f(n)}bt(),"string"==typeof n?Browser.asyncLoad(n,(function(t){f(t)}),a):f(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(t,e,n){e=e||function(){},n=n||function(){};var r=zt.indexedDB();try{var o=r.open(zt.DB_NAME(),zt.DB_VERSION)}catch(i){return n(i)}o.onupgradeneeded=function(){console.log("creating db"),o.result.createObjectStore(zt.DB_STORE_NAME)},o.onsuccess=function(){var r=o.result.transaction([zt.DB_STORE_NAME],"readwrite"),i=r.objectStore(zt.DB_STORE_NAME),a=0,s=0,u=t.length;function c(){0==s?e():n()}t.forEach((function(t){var e=i.put(zt.analyzePath(t).object.contents,t);e.onsuccess=function(){++a+s==u&&c()},e.onerror=function(){s++,a+s==u&&c()}})),r.onerror=n},o.onerror=n},loadFilesFromDB:function(t,e,n){e=e||function(){},n=n||function(){};var r=zt.indexedDB();try{var o=r.open(zt.DB_NAME(),zt.DB_VERSION)}catch(i){return n(i)}o.onupgradeneeded=n,o.onsuccess=function(){var r=o.result;try{var a=r.transaction([zt.DB_STORE_NAME],"readonly")}catch(i){return void n(i)}var s=a.objectStore(zt.DB_STORE_NAME),u=0,c=0,l=t.length;function f(){0==c?e():n()}t.forEach((function(t){var e=s.get(t);e.onsuccess=function(){zt.analyzePath(t).exists&&zt.unlink(t),zt.createDataFile(Tt.dirname(t),Tt.basename(t),e.result,!0,!0,!0),++u+c==l&&f()},e.onerror=function(){c++,u+c==l&&f()}})),a.onerror=n},o.onerror=n}},Ut={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(t,e){if("/"!==e[0]){var n;if(-100===t)n=zt.cwd();else{var r=zt.getStream(t);if(!r)throw new zt.ErrnoError(9);n=r.path}e=Tt.join2(n,e)}return e},doStat:function(t,e,n){try{var r=t(e)}catch(o){if(o&&o.node&&Tt.normalize(e)!==Tt.normalize(zt.getPath(o.node)))return-20;throw o}return Q[n>>2]=r.dev,Q[n+4>>2]=0,Q[n+8>>2]=r.ino,Q[n+12>>2]=r.mode,Q[n+16>>2]=r.nlink,Q[n+20>>2]=r.uid,Q[n+24>>2]=r.gid,Q[n+28>>2]=r.rdev,Q[n+32>>2]=0,tempI64=[r.size>>>0,(tempDouble=r.size,+pt(tempDouble)>=1?tempDouble>0?(0|vt(+mt(tempDouble/4294967296),4294967295))>>>0:~~+ht((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Q[n+40>>2]=tempI64[0],Q[n+44>>2]=tempI64[1],Q[n+48>>2]=4096,Q[n+52>>2]=r.blocks,Q[n+56>>2]=r.atime.getTime()/1e3|0,Q[n+60>>2]=0,Q[n+64>>2]=r.mtime.getTime()/1e3|0,Q[n+68>>2]=0,Q[n+72>>2]=r.ctime.getTime()/1e3|0,Q[n+76>>2]=0,tempI64=[r.ino>>>0,(tempDouble=r.ino,+pt(tempDouble)>=1?tempDouble>0?(0|vt(+mt(tempDouble/4294967296),4294967295))>>>0:~~+ht((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Q[n+80>>2]=tempI64[0],Q[n+84>>2]=tempI64[1],0},doMsync:function(t,e,n,r){var o=new Uint8Array(G.subarray(t,t+n));zt.msync(e,o,0,n,r)},doMkdir:function(t,e){return"/"===(t=Tt.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),zt.mkdir(t,e,0),0},doMknod:function(t,e,n){switch(61440&e){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-22}return zt.mknod(t,e,n),0},doReadlink:function(t,e,n){if(n<=0)return-22;var r=zt.readlink(t),o=Math.min(n,H(r)),i=J[e+o];return q(r,e,n+1),J[e+o]=i,o},doAccess:function(t,e){if(-8&e)return-22;var n;n=zt.lookupPath(t,{follow:!0}).node;var r="";return 4&e&&(r+="r"),2&e&&(r+="w"),1&e&&(r+="x"),r&&zt.nodePermissions(n,r)?-13:0},doDup:function(t,e,n){var r=zt.getStream(n);return r&&zt.close(r),zt.open(t,e,0,n,n).fd},doReadv:function(t,e,n,r){for(var o=0,i=0;i<n;i++){var a=Q[e+8*i>>2],s=Q[e+(8*i+4)>>2],u=zt.read(t,J,a,s,r);if(u<0)return-1;if(o+=u,u<s)break}return o},doWritev:function(t,e,n,r){for(var o=0,i=0;i<n;i++){var a=Q[e+8*i>>2],s=Q[e+(8*i+4)>>2],u=zt.write(t,J,a,s,r);if(u<0)return-1;o+=u}return o},varargs:0,get:function(t){return Ut.varargs+=4,Q[Ut.varargs-4>>2]},getStr:function(){return z(Ut.get())},getStreamFromFD:function(){var t=zt.getStream(Ut.get());if(!t)throw new zt.ErrnoError(9);return t},get64:function(){var t=Ut.get();Ut.get();return t},getZero:function(){Ut.get()}};var qt=42;function Ht(t){tn(t)}function Wt(){return J.length}function $t(t,e){throw xe(t,e||1),"longjmp"}function Vt(t){var e=Wt(),n=65536,r=2147418112;if(t>r)return!1;for(var o=Math.max(e,16777216);o<t;)o=o<=536870912?et(2*o,n):Math.min(et((3*o+2147483648)/4,n),r);return!!function(t){t=et(t,65536);var e=Y.byteLength;try{return-1!==F.grow((t-e)/65536)&&(Y=F.buffer,!0)}catch(n){return!1}}(o)&&(nt(),!0)}function Yt(){return Mt(8),-1}var Jt=1403280,Gt=(q("GMT",1403328,4),1403328);function Kt(t,e){var n=new Date(1e3*Q[t>>2]);Q[e>>2]=n.getUTCSeconds(),Q[e+4>>2]=n.getUTCMinutes(),Q[e+8>>2]=n.getUTCHours(),Q[e+12>>2]=n.getUTCDate(),Q[e+16>>2]=n.getUTCMonth(),Q[e+20>>2]=n.getUTCFullYear()-1900,Q[e+24>>2]=n.getUTCDay(),Q[e+36>>2]=0,Q[e+32>>2]=0;var r=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),o=(n.getTime()-r)/864e5|0;return Q[e+28>>2]=o,Q[e+40>>2]=Gt,e}function Qt(t){return Math.pow(2,t)}function Xt(){var t=Xt;return t.LLVM_SAVEDSTACKS||(t.LLVM_SAVEDSTACKS=[]),t.LLVM_SAVEDSTACKS.push(Se()),t.LLVM_SAVEDSTACKS.length-1}function Zt(){if(!Zt.called){Zt.called=!0,Q[ve()>>2]=60*(new Date).getTimezoneOffset();var t=new Date(2e3,0,1),e=new Date(2e3,6,1);Q[me()>>2]=Number(t.getTimezoneOffset()!=e.getTimezoneOffset());var n=a(t),r=a(e),o=I(le(n),"i8",C),i=I(le(r),"i8",C);e.getTimezoneOffset()<t.getTimezoneOffset()?(Q[ge()>>2]=o,Q[ge()+4>>2]=i):(Q[ge()>>2]=i,Q[ge()+4>>2]=o)}function a(t){var e=t.toTimeString().match(/\(([A-Za-z ]+)\)$/);return e?e[1]:"GMT"}}var te=38;function ee(t){return t%4==0&&(t%100!=0||t%400==0)}function ne(t,e){for(var n=0,r=0;r<=e;n+=t[r++]);return n}var re=[31,29,31,30,31,30,31,31,30,31,30,31],oe=[31,28,31,30,31,30,31,31,30,31,30,31];function ie(t,e){for(var n=new Date(t.getTime());e>0;){var r=ee(n.getFullYear()),o=n.getMonth(),i=(r?re:oe)[o];if(!(e>i-n.getDate()))return n.setDate(n.getDate()+e),n;e-=i-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function ae(t,e,n,r){var o=Q[r+40>>2],i={tm_sec:Q[r>>2],tm_min:Q[r+4>>2],tm_hour:Q[r+8>>2],tm_mday:Q[r+12>>2],tm_mon:Q[r+16>>2],tm_year:Q[r+20>>2],tm_wday:Q[r+24>>2],tm_yday:Q[r+28>>2],tm_isdst:Q[r+32>>2],tm_gmtoff:Q[r+36>>2],tm_zone:o?z(o):""},a=z(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var u in s)a=a.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(t,e,n){for(var r="number"==typeof t?t.toString():t||"";r.length<e;)r=n[0]+r;return r}function d(t,e){return f(t,e,"0")}function p(t,e){function n(t){return t<0?-1:t>0?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function h(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function m(t){var e=ie(new Date(t.tm_year+1900,0,1),t.tm_yday),n=new Date(e.getFullYear(),0,4),r=new Date(e.getFullYear()+1,0,4),o=h(n),i=h(r);return p(o,e)<=0?p(i,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var v={"%a":function(t){return c[t.tm_wday].substring(0,3)},"%A":function(t){return c[t.tm_wday]},"%b":function(t){return l[t.tm_mon].substring(0,3)},"%B":function(t){return l[t.tm_mon]},"%C":function(t){return d((t.tm_year+1900)/100|0,2)},"%d":function(t){return d(t.tm_mday,2)},"%e":function(t){return f(t.tm_mday,2," ")},"%g":function(t){return m(t).toString().substring(2)},"%G":function(t){return m(t)},"%H":function(t){return d(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),d(e,2)},"%j":function(t){return d(t.tm_mday+ne(ee(t.tm_year+1900)?re:oe,t.tm_mon-1),3)},"%m":function(t){return d(t.tm_mon+1,2)},"%M":function(t){return d(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return d(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return new Date(t.tm_year+1900,t.tm_mon+1,t.tm_mday,0,0,0,0).getDay()||7},"%U":function(t){var e=new Date(t.tm_year+1900,0,1),n=0===e.getDay()?e:ie(e,7-e.getDay()),r=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(p(n,r)<0){var o=ne(ee(r.getFullYear())?re:oe,r.getMonth()-1)-31,i=31-n.getDate()+o+r.getDate();return d(Math.ceil(i/7),2)}return 0===p(n,e)?"01":"00"},"%V":function(t){var e,n=new Date(t.tm_year+1900,0,4),r=new Date(t.tm_year+1901,0,4),o=h(n),i=h(r),a=ie(new Date(t.tm_year+1900,0,1),t.tm_yday);return p(a,o)<0?"53":p(i,a)<=0?"01":(e=o.getFullYear()<t.tm_year+1900?t.tm_yday+32-o.getDate():t.tm_yday+1-o.getDate(),d(Math.ceil(e/7),2))},"%w":function(t){return new Date(t.tm_year+1900,t.tm_mon+1,t.tm_mday,0,0,0,0).getDay()},"%W":function(t){var e=new Date(t.tm_year,0,1),n=1===e.getDay()?e:ie(e,0===e.getDay()?1:7-e.getDay()+1),r=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(p(n,r)<0){var o=ne(ee(r.getFullYear())?re:oe,r.getMonth()-1)-31,i=31-n.getDate()+o+r.getDate();return d(Math.ceil(i/7),2)}return 0===p(n,e)?"01":"00"},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,n=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(n?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var u in v)a.indexOf(u)>=0&&(a=a.replace(new RegExp(u,"g"),v[u](i)));var g=le(a,!1);return g.length>e?0:(function(t,e){J.set(t,e)}(g,t),g.length-1)}function se(t){return Mt(10),-1}if(At=w?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,zt.staticInit(),w){var ue=n(6405),ce=n(8391);Bt.staticInit()}function le(t,e,n){var r=n>0?n:H(t)+1,o=new Array(r),i=U(t,o,0,o.length);return e&&(o.length=i),o}var fe={r:en,e:M,c:function(){return A},$:function(t,e,n){var r=Se();try{return Fe(t,e,n)}catch(o){if(Oe(r),o!==o+0&&"longjmp"!==o)throw o;xe(1,0)}},T:function(t){var e=Se();try{return ke(t)}catch(n){if(Oe(e),n!==n+0&&"longjmp"!==n)throw n;xe(1,0)}},o:function(t,e){var n=Se();try{return Ae(t,e)}catch(r){if(Oe(n),r!==r+0&&"longjmp"!==r)throw r;xe(1,0)}},za:function(t,e,n,r){var o=Se();try{return Me(t,e,n,r)}catch(i){if(Oe(o),i!==i+0&&"longjmp"!==i)throw i;xe(1,0)}},l:function(t,e,n){var r=Se();try{return Pe(t,e,n)}catch(o){if(Oe(r),o!==o+0&&"longjmp"!==o)throw o;xe(1,0)}},m:function(t,e,n,r){var o=Se();try{return je(t,e,n,r)}catch(i){if(Oe(o),i!==i+0&&"longjmp"!==i)throw i;xe(1,0)}},w:function(t,e,n,r,o){var i=Se();try{return Te(t,e,n,r,o)}catch(a){if(Oe(i),a!==a+0&&"longjmp"!==a)throw a;xe(1,0)}},W:function(t,e,n,r,o,i){var a=Se();try{return Ce(t,e,n,r,o,i)}catch(s){if(Oe(a),s!==s+0&&"longjmp"!==s)throw s;xe(1,0)}},h:function(t,e,n,r,o,i,a){var s=Se();try{return Re(t,e,n,r,o,i,a)}catch(u){if(Oe(s),u!==u+0&&"longjmp"!==u)throw u;xe(1,0)}},hb:function(t,e,n,r,o,i,a){var s=Se();try{return Ie(t,e,n,r,o,i,a)}catch(u){if(Oe(s),u!==u+0&&"longjmp"!==u)throw u;xe(1,0)}},gb:function(t,e,n,r){var o=Se();try{return Ne(t,e,n,r)}catch(i){if(Oe(o),i!==i+0&&"longjmp"!==i)throw i;xe(1,0)}},fb:function(t,e){var n=Se();try{return Be(t,e)}catch(r){if(Oe(n),r!==r+0&&"longjmp"!==r)throw r;xe(1,0)}},ka:function(t){var e=Se();try{Le(t)}catch(n){if(Oe(e),n!==n+0&&"longjmp"!==n)throw n;xe(1,0)}},j:function(t,e){var n=Se();try{ze(t,e)}catch(r){if(Oe(n),r!==r+0&&"longjmp"!==r)throw r;xe(1,0)}},n:function(t,e,n){var r=Se();try{Ue(t,e,n)}catch(o){if(Oe(r),o!==o+0&&"longjmp"!==o)throw o;xe(1,0)}},ja:function(t,e,n,r){var o=Se();try{qe(t,e,n,r)}catch(i){if(Oe(o),i!==i+0&&"longjmp"!==i)throw i;xe(1,0)}},ia:function(t,e,n,r,o,i,a,s,u,c,l){var f=Se();try{He(t,e,n,r,o,i,a,s,u,c,l)}catch(d){if(Oe(f),d!==d+0&&"longjmp"!==d)throw d;xe(1,0)}},x:function(t,e,n,r){var o=Se();try{We(t,e,n,r)}catch(i){if(Oe(o),i!==i+0&&"longjmp"!==i)throw i;xe(1,0)}},k:function(t,e,n,r,o){var i=Se();try{$e(t,e,n,r,o)}catch(a){if(Oe(i),a!==a+0&&"longjmp"!==a)throw a;xe(1,0)}},K:function(t,e,n,r,o,i){var a=Se();try{Ve(t,e,n,r,o,i)}catch(s){if(Oe(a),s!==s+0&&"longjmp"!==s)throw s;xe(1,0)}},cb:function(t,e,n,r,o,i,a){var s=Se();try{Ye(t,e,n,r,o,i,a)}catch(u){if(Oe(s),u!==u+0&&"longjmp"!==u)throw u;xe(1,0)}},y:function(t,e,n,r,o,i,a,s,u){var c=Se();try{Je(t,e,n,r,o,i,a,s,u)}catch(l){if(Oe(c),l!==l+0&&"longjmp"!==l)throw l;xe(1,0)}},ha:function(t,e,n,r,o,i,a,s,u,c){var l=Se();try{Ge(t,e,n,r,o,i,a,s,u,c)}catch(f){if(Oe(l),f!==f+0&&"longjmp"!==f)throw f;xe(1,0)}},bb:function(t,e,n,r,o,i,a,s,u,c,l){var f=Se();try{Ke(t,e,n,r,o,i,a,s,u,c,l)}catch(d){if(Oe(f),d!==d+0&&"longjmp"!==d)throw d;xe(1,0)}},eb:function(t,e,n,r){var o=Se();try{Qe(t,e,n,r)}catch(i){if(Oe(o),i!==i+0&&"longjmp"!==i)throw i;xe(1,0)}},b:function(t,e,n,r){en("Assertion failed: "+z(t)+", at: "+[e?z(e):"unknown filename",n,r?z(r):"unknown function"])},ab:function t(e){var n,r;t.called?(r=Q[e>>2],n=Q[r>>2]):(t.called=!0,kt.USER=kt.LOGNAME="web_user",kt.PATH="/",kt.PWD="/",kt.HOME="/home/web_user",kt.LANG="C.UTF-8",kt._=h.thisProgram,n=N(1024),r=N(256),Q[r>>2]=n,Q[e>>2]=r);var o=[],i=0;for(var a in kt)if("string"==typeof kt[a]){var s=a+"="+kt[a];o.push(s),i+=s.length}if(i>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var u=0;u<o.length;u++){$(s=o[u],n),Q[r+4*u>>2]=n,n+=s.length+1}Q[r+4*o.length>>2]=0},$a:function(t,e){return Pt(t,e)},f:function(t){return be(t)},_a:function(){throw P=!0,"Pure virtual function called!"},g:function(t,e,n){throw jt.infos[t]={ptr:t,adjusted:[t],type:e,destructor:n,refcount:0,caught:!1,rethrown:!1},jt.last=t,"uncaught_exception"in pe?pe.uncaught_exception++:pe.uncaught_exception=1,t},Za:function(){return!!pe.uncaught_exception},V:function(){},Ya:function(t,e){return Mt(1),-1},ga:Mt,fa:function(t,e){Ut.varargs=e;try{var n=Ut.getStr();return zt.unlink(n),0}catch(r){return void 0!==zt&&r instanceof zt.ErrnoError||en(r),-r.errno}},Xa:function(t,e){Ut.varargs=e;try{en("cannot wait on child processes")}catch(n){return void 0!==zt&&n instanceof zt.ErrnoError||en(n),-n.errno}},Wa:function(t,e){Ut.varargs=e;try{Ut.getStreamFromFD();return 0}catch(n){return void 0!==zt&&n instanceof zt.ErrnoError||en(n),-n.errno}},ea:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get(),i=Ut.get(),a=Ut.get();if(!(-1==r&&o<0||0==r&&o>=0))return-75;var s=o;return zt.llseek(n,s,a),tempI64=[n.position>>>0,(tempDouble=n.position,+pt(tempDouble)>=1?tempDouble>0?(0|vt(+mt(tempDouble/4294967296),4294967295))>>>0:~~+ht((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Q[i>>2]=tempI64[0],Q[i+4>>2]=tempI64[1],n.getdents&&0===s&&0===a&&(n.getdents=null),0}catch(u){return void 0!==zt&&u instanceof zt.ErrnoError||en(u),-u.errno}},Va:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get();return Ut.doReadv(n,r,o)}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},da:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get();return Ut.doWritev(n,r,o)}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},Ua:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.get();return zt.chmod(n,r),0}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Ta:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get(),i=(Ut.getZero(),Ut.get64());return zt.read(n,J,r,o,i)}catch(a){return void 0!==zt&&a instanceof zt.ErrnoError||en(a),-a.errno}},Sa:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get(),i=(Ut.getZero(),Ut.get64());return zt.write(n,J,r,o,i)}catch(a){return void 0!==zt&&a instanceof zt.ErrnoError||en(a),-a.errno}},Ra:function(t,e){Ut.varargs=e;try{var n=Ut.get(),r=Ut.get();if(0===r)return-22;var o=zt.cwd();return r<H(o)+1?-34:(q(o,n,r),n)}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},Qa:function(t,e){Ut.varargs=e;try{Ut.get();var n=Ut.get();return Q[n>>2]=-1,Q[n+4>>2]=-1,Q[n+8>>2]=-1,Q[n+12>>2]=-1,0}catch(r){return void 0!==zt&&r instanceof zt.ErrnoError||en(r),-r.errno}},Pa:function(t,e){Ut.varargs=e;try{var n,r=Ut.get(),o=Ut.get(),i=Ut.get(),a=Ut.get(),s=Ut.get(),u=Ut.get();u<<=12;var c=!1;if(-1===s){if(!(n=_e(tt,o)))return-12;Ee(n,0,o),c=!0}else{var l=zt.getStream(s);if(!l)return-9;var f=zt.mmap(l,G,r,o,u,i,a);n=f.ptr,c=f.allocated}return Ut.mappings[n]={malloc:n,len:o,allocated:c,fd:s,flags:a},n}catch(d){return void 0!==zt&&d instanceof zt.ErrnoError||en(d),-d.errno}},ca:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.get();return Ut.doStat(zt.stat,n,r)}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Oa:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get();return Ut.doStat(zt.stat,n.path,r)}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Na:function(t,e){Ut.varargs=e;try{return qt}catch(n){return void 0!==zt&&n instanceof zt.ErrnoError||en(n),-n.errno}},Ma:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get();n.getdents||(n.getdents=zt.readdir(n.path));for(var i=280,a=0,s=zt.llseek(n,0,1),u=Math.floor(s/i);u<n.getdents.length&&a+i<=o;){var c,l,f=n.getdents[u];if("."===f[0])c=1,l=4;else{var d=zt.lookupNode(n.node,f);c=d.id,l=zt.isChrdev(d.mode)?2:zt.isDir(d.mode)?4:zt.isLink(d.mode)?10:8}tempI64=[c>>>0,(tempDouble=c,+pt(tempDouble)>=1?tempDouble>0?(0|vt(+mt(tempDouble/4294967296),4294967295))>>>0:~~+ht((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Q[r+a>>2]=tempI64[0],Q[r+a+4>>2]=tempI64[1],tempI64=[(u+1)*i>>>0,(tempDouble=(u+1)*i,+pt(tempDouble)>=1?tempDouble>0?(0|vt(+mt(tempDouble/4294967296),4294967295))>>>0:~~+ht((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Q[r+a+8>>2]=tempI64[0],Q[r+a+12>>2]=tempI64[1],K[r+a+16>>1]=280,J[r+a+18>>0]=l,q(f,r+a+19,256),a+=i,u+=1}return zt.llseek(n,u*i,0),a}catch(p){return void 0!==zt&&p instanceof zt.ErrnoError||en(p),-p.errno}},R:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD();switch(Ut.get()){case 0:return(r=Ut.get())<0?-22:zt.open(n.path,n.flags,0,r).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var r=Ut.get();return n.flags|=r,0;case 12:r=Ut.get();return K[r+0>>1]=2,0;case 16:case 8:default:return-22;case 9:return Mt(22),-1}}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},La:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get();return zt.read(n,J,r,o)}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},Ka:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=(Ut.get(),Ut.get64()),o=Ut.get64();return zt.allocate(n,r,o),0}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},Ja:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.get();return Ut.doAccess(n,r)}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Ia:function(t,e){Ut.varargs=e;try{Ut.get(),Ut.get(),Ut.get();var n=Ut.get();return n&&(Q[n>>2]=-1,Q[n+4>>2]=-1,Q[n+8>>2]=-1,Q[n+12>>2]=-1),0}catch(r){return void 0!==zt&&r instanceof zt.ErrnoError||en(r),-r.errno}},Ha:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.getStr();return zt.rename(n,r),0}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Ga:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get(),o=Ut.get();return zt.write(n,J,r,o)}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},Fa:function(t,e){Ut.varargs=e;try{var n=Ut.getStr();return zt.rmdir(n),0}catch(r){return void 0!==zt&&r instanceof zt.ErrnoError||en(r),-r.errno}},ba:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.get(),o=Ut.get();return zt.open(n,r,o).fd}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},aa:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD(),r=Ut.get();switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-25;case 21519:if(!n.tty)return-25;var o=Ut.get();return Q[o>>2]=0,0;case 21520:return n.tty?-22:-25;case 21531:o=Ut.get();return zt.ioctl(n,r,o);default:en("bad ioctl syscall "+r)}}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},X:function(t,e){Ut.varargs=e;try{var n=Ut.getStreamFromFD();return zt.close(n),0}catch(r){return void 0!==zt&&r instanceof zt.ErrnoError||en(r),-r.errno}},Ea:function(t,e){Ut.varargs=e;try{Ut.get();var n=Ut.get();return Ee(n,0,136),Q[n>>2]=1,Q[n+4>>2]=2,Q[n+8>>2]=3,Q[n+12>>2]=4,0}catch(r){return void 0!==zt&&r instanceof zt.ErrnoError||en(r),-r.errno}},Da:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.getStr();return zt.symlink(n,r),0}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Ca:function(t,e){Ut.varargs=e;try{var n=Ut.getStr(),r=Ut.get(),o=Ut.get();return Ut.doReadlink(n,r,o)}catch(i){return void 0!==zt&&i instanceof zt.ErrnoError||en(i),-i.errno}},Ba:function(t,e){Ut.varargs=e;try{var n=Ut.get(),r=Ut.get(),o=Ut.mappings[n];if(!o)return 0;if(r===o.len){var i=zt.getStream(o.fd);Ut.doMsync(n,i,r,o.flags),zt.munmap(i),Ut.mappings[n]=null,o.allocated&&ye(o.malloc)}return 0}catch(a){return void 0!==zt&&a instanceof zt.ErrnoError||en(a),-a.errno}},Aa:function(t,e){Ut.varargs=e;try{var n=Ut.get(),r=Ut.get();return zt.fchmod(n,r),0}catch(o){return void 0!==zt&&o instanceof zt.ErrnoError||en(o),-o.errno}},Q:function(){},i:function(t){return Ht(t)},q:function(){h.abort()},ya:function t(){return void 0===t.start&&(t.start=Date.now()),1e3*(Date.now()-t.start)|0},H:Pt,xa:Wt,wa:function(t,e){$t(t,e)},va:function(t,e,n){G.set(G.subarray(e,e+n),t)},ua:Vt,ta:function(){return Yt.apply(null,arguments)},_:Ht,sa:function(){return Mt(11),-1},t:function t(e){return 0===e?0:(e=z(e),kt.hasOwnProperty(e)?(t.ret&&ye(t.ret),t.ret=(n=kt[e],r=H(n)+1,(o=be(r))&&U(n,J,o,r),o)):0);var n,r,o},ra:function(){throw"getpwnam: TODO"},P:function(t){var e=Date.now();return Q[t>>2]=e/1e3|0,Q[t+4>>2]=e%1e3*1e3|0,0},Z:function(t){return Kt(t,Jt)},F:Kt,db:function(t,e){var n=we(e)>>>0,r=we(t)>>>0;return 0|(M(r),n)},s:Qt,S:function(t){return Qt(t)},p:function(t){return e=t,Math.log(e)/Math.LN10;var e},O:function(t){var e=Xt,n=e.LLVM_SAVEDSTACKS[t];e.LLVM_SAVEDSTACKS.splice(t,1),Oe(n)},N:Xt,I:function(){en("trap!")},qa:function(t){return function(t,e){Zt();var n=new Date(1e3*Q[t>>2]);Q[e>>2]=n.getSeconds(),Q[e+4>>2]=n.getMinutes(),Q[e+8>>2]=n.getHours(),Q[e+12>>2]=n.getDate(),Q[e+16>>2]=n.getMonth(),Q[e+20>>2]=n.getFullYear()-1900,Q[e+24>>2]=n.getDay();var r=new Date(n.getFullYear(),0,1),o=(n.getTime()-r.getTime())/864e5|0;Q[e+28>>2]=o,Q[e+36>>2]=-60*n.getTimezoneOffset();var i=new Date(2e3,6,1).getTimezoneOffset(),a=r.getTimezoneOffset(),s=0|(i!=a&&n.getTimezoneOffset()==Math.min(a,i));Q[e+32>>2]=s;var u=Q[ge()+(s?4:0)>>2];return Q[e+40>>2]=u,e}(t,Jt)},d:$t,G:function(t){Zt();var e=new Date(Q[t+20>>2]+1900,Q[t+16>>2],Q[t+12>>2],Q[t+8>>2],Q[t+4>>2],Q[t>>2],0),n=Q[t+32>>2],r=e.getTimezoneOffset(),o=new Date(e.getFullYear(),0,1),i=new Date(2e3,6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);if(n<0)Q[t+32>>2]=Number(i!=a&&s==r);else if(n>0!=(s==r)){var u=Math.max(a,i),c=n>0?s:u;e.setTime(e.getTime()+6e4*(c-r))}Q[t+24>>2]=e.getDay();var l=(e.getTime()-o.getTime())/864e5|0;return Q[t+28>>2]=l,e.getTime()/1e3|0},z:function(t,e){var n=Q[t>>2],r=Q[t+4>>2];return 0!==e&&(Q[e>>2]=0,Q[e+4>>2]=0),function(t){var e=t/1e3;if((g||y)&&self.performance&&self.performance.now)for(var n=self.performance.now();self.performance.now()-n<e;);else for(n=Date.now();Date.now()-n<e;);return 0}(1e6*n+r/1e3)},pa:function(t){return 0},oa:function(){},J:function(){return 0},Y:function(){return 0},D:function(){return 0},v:function(){return 0},na:function(){return 11},U:function(){},nb:function(t){return Mt(te),-1},C:function(t,e,n){return 0},B:function(t,e){return Q[t>>2]=Q[t>>2]|1<<e-1,0},A:function(t){return Q[t>>2]=0,0},mb:function(t,e){return 14==t&&e,0},u:function(){return 0},ma:ae,lb:function(t,e,n,r){return ae(t,e,n,r)},E:function(t){switch(t){case 30:return tt;case 85:return 131068;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Mt(22),-1},la:function(t){return Mt(11),-1},M:function(t){var e=Date.now()/1e3|0;return t&&(Q[t>>2]=e),e},L:function(t){return 0!==t&&Ee(t,0,16),0},kb:function(t,e){var n;if(e){n=Q[e+4>>2],n*=1e3}else n=Date.now();t=z(t);try{return zt.utime(t,n,n),0}catch(r){return zt.handleFSError(r),-1}},jb:function(){return se.apply(null,arguments)},ib:function(t){en("OOM")},a:rt},de=h.asm({},fe,Y);h.asm=de;var pe=h.__ZSt18uncaught_exceptionv=function(){return h.asm.ob.apply(null,arguments)},he=h.___emscripten_environ_constructor=function(){return h.asm.pb.apply(null,arguments)},me=(h.___errno_location=function(){return h.asm.qb.apply(null,arguments)},h.__get_daylight=function(){return h.asm.rb.apply(null,arguments)}),ve=h.__get_timezone=function(){return h.asm.sb.apply(null,arguments)},ge=h.__get_tzname=function(){return h.asm.tb.apply(null,arguments)},ye=h._free=function(){return h.asm.ub.apply(null,arguments)},we=h._llvm_bswap_i32=function(){return h.asm.vb.apply(null,arguments)},be=(h._main=function(){return h.asm.wb.apply(null,arguments)},h._malloc=function(){return h.asm.xb.apply(null,arguments)}),_e=h._memalign=function(){return h.asm.yb.apply(null,arguments)},Ee=h._memset=function(){return h.asm.zb.apply(null,arguments)},xe=h._setThrew=function(){return h.asm.Ab.apply(null,arguments)},De=h.stackAlloc=function(){return h.asm._b.apply(null,arguments)},Oe=h.stackRestore=function(){return h.asm.$b.apply(null,arguments)},Se=h.stackSave=function(){return h.asm.ac.apply(null,arguments)},Fe=h.dynCall_dii=function(){return h.asm.Bb.apply(null,arguments)},ke=h.dynCall_i=function(){return h.asm.Cb.apply(null,arguments)},Ae=h.dynCall_ii=function(){return h.asm.Db.apply(null,arguments)},Me=h.dynCall_iifi=function(){return h.asm.Eb.apply(null,arguments)},Pe=h.dynCall_iii=function(){return h.asm.Fb.apply(null,arguments)},je=h.dynCall_iiii=function(){return h.asm.Gb.apply(null,arguments)},Te=h.dynCall_iiiii=function(){return h.asm.Hb.apply(null,arguments)},Ce=h.dynCall_iiiiii=function(){return h.asm.Ib.apply(null,arguments)},Re=h.dynCall_iiiiiii=function(){return h.asm.Jb.apply(null,arguments)},Ie=h.dynCall_iiijj=function(){return h.asm.Kb.apply(null,arguments)},Ne=h.dynCall_iij=function(){return h.asm.Lb.apply(null,arguments)},Be=h.dynCall_ji=function(){return h.asm.Mb.apply(null,arguments)},Le=h.dynCall_v=function(){return h.asm.Nb.apply(null,arguments)},ze=h.dynCall_vi=function(){return h.asm.Ob.apply(null,arguments)},Ue=h.dynCall_vii=function(){return h.asm.Pb.apply(null,arguments)},qe=h.dynCall_viid=function(){return h.asm.Qb.apply(null,arguments)},He=h.dynCall_viidddddddd=function(){return h.asm.Rb.apply(null,arguments)},We=h.dynCall_viii=function(){return h.asm.Sb.apply(null,arguments)},$e=h.dynCall_viiii=function(){return h.asm.Tb.apply(null,arguments)},Ve=h.dynCall_viiiii=function(){return h.asm.Ub.apply(null,arguments)},Ye=h.dynCall_viiiiii=function(){return h.asm.Vb.apply(null,arguments)},Je=h.dynCall_viiiiiiii=function(){return h.asm.Wb.apply(null,arguments)},Ge=h.dynCall_viiiiiiiii=function(){return h.asm.Xb.apply(null,arguments)},Ke=h.dynCall_viiiiiiiiii=function(){return h.asm.Yb.apply(null,arguments)},Qe=h.dynCall_vij=function(){return h.asm.Zb.apply(null,arguments)};function Xe(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}h.asm=de,Xe.prototype=new Error,Xe.prototype.constructor=Xe;function Ze(t){function e(){h.calledRun||(h.calledRun=!0,P||(dt(),zt.ignorePermissions=!1,at(ct),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h._main&&nn&&h.callMain(t),function(){if(h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;)t=h.postRun.shift(),lt.unshift(t);var t;at(lt)}()))}t=t||h.arguments,gt>0||(!function(){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)t=h.preRun.shift(),st.unshift(t);var t;at(st)}(),gt>0||h.calledRun||(h.setStatus?(h.setStatus("Running..."),setTimeout((function(){setTimeout((function(){h.setStatus("")}),1),e()}),1)):e()))}function tn(t,e){e&&h.noExitRuntime&&0===t||(h.noExitRuntime||(P=!0,t,!0,h.onExit&&h.onExit(t)),h.quit(t,new Xe(t)))}function en(t){throw h.onAbort&&h.onAbort(t),void 0!==t?(x(t),D(t),t=JSON.stringify(t)):t="",P=!0,1,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(wt=function t(){h.calledRun||Ze(),h.calledRun||(wt=t)},h.callMain=function(t){t=t||[],dt();var e=t.length+1,n=De(4*(e+1));Q[n>>2]=W(h.thisProgram);for(var r=1;r<e;r++)Q[(n>>2)+r]=W(t[r-1]);Q[(n>>2)+e]=0;try{tn(h._main(e,n,0),!0)}catch(i){if(i instanceof Xe)return;if("SimulateInfiniteLoop"==i)return void(h.noExitRuntime=!0);var o=i;i&&"object"==typeof i&&i.stack&&(o=[i,i.stack]),D("exception thrown: "+o),h.quit(1,i)}finally{!0}},h.run=Ze,h.abort=en,h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);h.preInit.length>0;)h.preInit.pop()();var nn=!0;h.noInitialRun&&(nn=!1),h.noExitRuntime=!0,Ze()},9119:function(t,e,n){"use strict";const r=n(3391),o=n(8030);e.C=function(t,e){return function(...e){var n=r.getOption("debug");let i,a;o.resetStdout(),o.resetStderr();try{t.noExitRuntime=!0,n&&console.log("before Module.callMain"),i=t.callMain(...e),n&&console.log("after Module.callMain",i)}catch(s){n&&console.error(s),a=s}return{returnValue:i,stdout:o.getStdout(),stderr:o.getStderr(),error:a}}}},8030:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5800);e.isNode=r.isNode;const o=n(3391);e.getOptions=o.getOptions;const i=n(3300),{debug:a}=o.getOptions();let s=null,u=null;function c(){if(!s)throw new Error("getFS called too soon - FS object not ready yet");return s}function l(){if(!u)throw new Error("getMain called too soon - main function not ready yet");return u}e.magickLoaded=new r.Deferred,e.magickLoaded.then((t=>{s=t.FS,u=t.main})),e.getMagick=function(){return{FS:c(),main:l()}},e.getFS=c,e.getMain=l;const f=[];e.pushStdout=function(...t){a&&console.log(`>> stdout >> ${t.join(" ")}`),f.push(...t)},e.resetStdout=function(){f.length=0},e.getStdout=function(){return f.slice()};const d=[];e.pushStderr=function(...t){a&&console.log(`>> stderr >> ${t.join(" ")}`),d.push(...t)},e.resetStderr=function(){d.length=0},e.getStderr=function(){return d.slice()},e.moduleLocateFile=function(t,e){if("string"==typeof MAGICA_WASM_LOCATION)return MAGICA_WASM_LOCATION;var n=i.getThisBrowserScriptTagSrcParams();if(n&&n.MAGICA_WASM_LOCATION)return decodeURIComponent(n.MAGICA_WASM_LOCATION);var o=i.getThisBrowserScriptTagSrc();if("string"==typeof o){var a=r.dirname(o);if(a)return a}return e+t},setTimeout((function(){try{n(9566)}catch(t){throw console.error(t),t}}),0)},408:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});n(5800).flatInstallArrayPrototype(),n(3300).getThisBrowserScriptTagSrc(),n(4565).installMagica();var o=n(8689);e.File=o.File;var i=n(8595);e.isProtectedFile=i.isProtectedFile,e.protectFile=i.protectFile,r(n(4492));var a=n(3543);e.imageCompare=a.imageCompare;var s=n(8755);e.imageInfo=s.imageInfo,r(n(9195));var u=n(1165);e.imageBuiltIn=u.imageBuiltIn,e.knownSupportedReadWriteImageFormats=u.knownSupportedReadWriteImageFormats,r(n(6955));var c=n(8030);e.magickLoaded=c.magickLoaded;var l=n(4646);e.cliToArray=l.cliToArray;var f=n(2908);e.registerCommandPreprocessor=f.registerCommandPreprocessor,r(n(1983));var d=n(9268);e.run=d.run;var p=n(4908);e.addTemplateHelper=p.addTemplateHelper;var h=n(3391);e.getOptions=h.getOptions,e.setOptions=h.setOptions,r(n(4999))},4646:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5800);function o(t){return t.map((t=>t.trim().match(/\s/)?`'${t}'`:t)).map((t=>"("===t.trim()?"\\(":")"===t.trim()?"\\)":t)).join(" ")}function i(t){if(t.trim().startsWith("#"))return;let e=!1;const n=[0];for(let r=0;r<t.length;r++){const o=t[r];o.match(/[ ]/im)&&!e&&n.push(r),"'"===o&&(e=!e)}n.push(t.length);return n.map(((e,r)=>t.substring(0===r?0:n[r-1],n[r]).replace(/^[ ]+/,"").replace(/[ ]+$/,""))).filter((t=>!!t)).map((t=>t.startsWith("'")?t.substring(1,t.length):t)).map((t=>t.endsWith("'")?t.substring(0,t.length-1):t)).map((t=>"\\("===t?"(":"\\)"===t?")":t)).map((t=>t.replace(/\\n/g,"\n")))}e.processCommand=function(t){return"string"!=typeof t?t:r.checkThrow(i(t),"Cannot create a command array from given string "+t)},e.arrayToCliOne=o,e.arrayToCli=function(t){return("string"==typeof t[0]?[t]:t).map(o).join("\n")},e.cliToArray=function(t){const e=t.split("\n").map((t=>t.trim())).map(i).filter(r.notUndefined).filter((t=>t.length)),n=[];let o=[];for(let r=0;r<e.length;r++){const t=e[r];"\\"!==t[t.length-1]?(o=o.concat(t),n.push(o),o=[]):o=o.concat(t.slice(0,t.length-1))}return n}},6447:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0});const misc_utils_of_mine_generic_1=__webpack_require__(5800),file_1=__webpack_require__(8689),magickLoaded_1=__webpack_require__(8030),options_1=__webpack_require__(3391),fileUtil_1=__webpack_require__(3029),main_1=__webpack_require__(1983),run_1=__webpack_require__(9268);function isCustomCommand(t){return __awaiter(this,void 0,void 0,(function*(){return t.join(" ").trim().startsWith(options_1.getOption("customCommandPrefix"))}))}exports.isCustomCommand=isCustomCommand;class CustomCommandContextImpl{constructor(t){this.main=main_1.main,this.run=run_1.run,this.log=magickLoaded_1.pushStdout,this.error=magickLoaded_1.pushStderr,this.options=t.options,this.FS=t.FS,this.outputFiles=t.outputFiles,this.File=file_1.File}isFile(t){return fileUtil_1.isFile(t,this.FS)}readFile(t){return fileUtil_1.readFile(t,this.FS)}isDirectory(t){return fileUtil_1.isDir(t,this.FS)}writeFile(t){fileUtil_1.writeFile(t,this.FS)}includeOutputFiles(t,e=!1){e?misc_utils_of_mine_generic_1.arrayDifference(this.outputFiles,t,file_1.File.equals,this.outputFiles):misc_utils_of_mine_generic_1.arrayUnion(this.outputFiles,t,file_1.File.equals,this.outputFiles)}}function dispatchCustomCommand(o){return __awaiter(this,void 0,void 0,(function*(){const s=o.command.slice(1).join(" ").trim();o.options.debug&&console.log("custom command js expression: "+s);var context=new CustomCommandContextImpl(o),error,returnValue;magickLoaded_1.resetStdout(),magickLoaded_1.resetStderr();try{var f=eval(s);o.options.debug&&console.log("custom command js evaluated result function: "+f),returnValue=yield f(context)}catch(er){o.options.debug&&console.error("Custom command ",s,"evaluation error: ",er),error=er}return{stdout:magickLoaded_1.getStdout(),stderr:magickLoaded_1.getStderr(),returnValue:returnValue,error:error}}))}exports.dispatchCustomCommand=dispatchCustomCommand},2908:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(4908),a=[];function s(t){a.push(t)}function u(){c||(c=!0,s(new i.Template))}e._compileTimePreprocess=function(t){return r(this,void 0,void 0,(function*(){u();let e=t;return yield o.serial(a.filter((t=>t.fnCompileTime)).map((t=>()=>r(this,void 0,void 0,(function*(){e=yield t.fnCompileTime(e)}))))),Object.assign({},e)}))},e._runTimePreprocess=function(t,e,n){return r(this,void 0,void 0,(function*(){c||(c=!0,u()),yield o.serial(a.filter((t=>t.fnRuntime)).map((o=>()=>r(this,void 0,void 0,(function*(){yield o.fnRuntime(e,n,t)})))))}))},e.registerCommandPreprocessor=s;let c=!1},1983:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(5800),a=o(n(5860)),s=n(8689),u=n(8595),c=n(9195),l=n(8030),f=n(3391),d=n(3029),p=n(673),h=n(2093),m=n(7918),v=n(4646);let g;function y(t){const e=Date.now();i.objectKeys(f.getOptions()).filter((e=>i.notUndefined(t[e]))).forEach((e=>f.setOptions({[e]:t[e]})));const{emscriptenNodeFsRoot:n,debug:r}=f.getOptions();r&&console.log("main call given options: ",t);const{FS:o,main:a}=l.getMagick();o.chdir(n),t.inputFiles.forEach((t=>{const e=i.dirname(t.name);e.trim()&&h.mkdirp(e,(t=>o.analyzePath(t).exists),o.mkdir),r&&console.log("FS.write",t.name),d.writeFile(t,o)}));const s=p.listFilesRecursively(n,o);let g;var y=v.processCommand(t.command);t.verbose&&y.splice(1,0,"-verbose"),r&&console.log("main processed command:",y);try{g=a(y)}catch(E){r&&console.error("MAIN error",E),g={stderr:[],stdout:[],error:E,returnValue:void 0}}var w=t.verbose&&i.tryTo((()=>c.parseConvertVerbose(g.stdout)))||[];const b=p.listFilesRecursively(n,o).filter((t=>!s.find((e=>e.path===t.path)))).map((e=>{const n=d.readFile(e.path,o);var r=w.find((t=>n.name.endsWith(t.outputName)));return r&&(n.width=r.outputSize.width,n.height=r.outputSize.height),t.protectOutputFiles&&u.protectFile(n),n})),_=[];return p.ls(n,o).filter((t=>!u.isProtectedFile(t))).forEach((t=>m.rmRf(t,o,(t=>!u.isProtectedFile(t)),_))),t.debug&&console.log(`Removed files: ${_}\nProtected files: ${p.ls(n,o).map(u.isProtectedFile)}`),Object.assign(Object.assign({},g),{outputFiles:b,verbose:w,times:{total:Date.now()-e}})}e.main=function(t){if(t.useNative||f.getOption("useNative"))throw"useNative not supported yet";return(g||(g=new a.default({autoStart:!0,concurrency:f.getOption("mainConcurrency"),interval:f.getOption("mainInterval")})),g).add((()=>r(this,void 0,void 0,(function*(){return yield l.magickLoaded,y(Object.assign(Object.assign({},t),{inputFiles:yield s.File.resolve(t.inputFiles)}))}))))},e.mainSync=y},9268:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(8689),a=n(8030),s=n(3391),u=n(4646),c=n(6447),l=n(2908),f=n(1983);function d(t){return r(this,void 0,void 0,(function*(){const e=Date.now();t.debug&&s.setOptions({debug:t.debug});const n=s.getOption("emscriptenNodeFsRoot"),{FS:d}=yield a.magickLoaded;d.chdir(n);let p=yield i.File.resolve(t.inputFiles);p=p.filter(o.notUndefined).map(i.File.asFile);const h=yield function(t){return r(this,void 0,void 0,(function*(){if(!(t.script&&t.script.length||t.command&&t.command.length))throw new Error("No script or command given");let e;e=(t=yield l._compileTimePreprocess(t)).script&&t.script.length?o.asArray(t.script).join("\n"):u.arrayToCliOne(o.asArray(t.command));return u.cliToArray(e)}))}(Object.assign(Object.assign({},t),{inputFiles:p})),m={results:[],commands:h,outputFiles:[],stderr:[],stdout:[],error:void 0,returnValue:void 0};yield o.serial(h.map(((e,n)=>()=>r(this,void 0,void 0,(function*(){let r,o=Object.assign(Object.assign({},t),{command:e,inputFiles:p});if(yield l._runTimePreprocess(t,o,n),yield c.isCustomCommand(e)){const t={command:e,options:o,FS:d,outputFiles:p};r=Object.assign(Object.assign({},yield c.dispatchCustomCommand(t)),{outputFiles:p})}else r=yield f.main(o);p=[...p.filter((t=>!r.outputFiles.find((e=>e.name===t.name)))),...r.outputFiles].map(i.File.asFile),m.results.push(r),m.commands[n]=u.processCommand(o.command)})))));return Object.assign(Object.assign({},m),{stdout:m.results.map((t=>t.stdout)).flat(),stderr:m.results.map((t=>t.stderr)).flat(),outputFiles:m.results.length?m.results[m.results.length-1].outputFiles:[],times:{total:Date.now()-e}})}))}e.run=d,e.runOne=function(t,e=[]){return r(this,void 0,void 0,(function*(){const n=yield d({inputFiles:o.asArray(e),script:t});if(n.error)throw new Error(n.error+""+n.stderr.join(", "));if(!n.outputFiles.length)throw new Error("Expected output files but none resulted");return n.outputFiles[0]}))}},7978:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(8030),a=n(673);e.LSHelper=class{constructor(){this.name="ls"}exec(t={}){return r(this,void 0,void 0,(function*(){const{FS:e}=yield i.magickLoaded,{emscriptenNodeFsRoot:n}=i.getOptions();var r=t.path||n,s=t.recursive?a.listFilesRecursively(r,e):a.ls(r,e),u=o.asArray(s).map((t=>"string"==typeof t?t:t.path));return t.stdout&&u.forEach((t=>i.pushStdout(t))),t.noReturnValue?[]:u}))}fnCompileTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}fnRunTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}}},5565:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(5800),i=n(8689);e.SizeHelper=class{constructor(){this.name="size"}exec(t){return r(this,void 0,void 0,(function*(){var e=o.asArray("string"==typeof t.file?yield i.File.resolve(t.file):t.file);return yield e[0].size()}))}fnCompileTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}fnRunTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}};e.ImageInfoHelper=class{constructor(){this.name="imageInfo"}exec(t){return r(this,void 0,void 0,(function*(){var e=o.asArray("string"==typeof t.file?yield i.File.resolve(t.file):t.file).filter(o.notUndefined).map(i.File.asFile);return yield e[0].infoOne()}))}fnCompileTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}fnRunTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}};e.HeightHelper=class{constructor(){this.name="height"}exec(t){return r(this,void 0,void 0,(function*(){var e=o.asArray("string"==typeof t.file?yield i.File.resolve(t.file):t.file);return(yield e[0].size()).height}))}fnCompileTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}fnRunTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}};e.WidthHelper=class{constructor(){this.name="width"}exec(t){return r(this,void 0,void 0,(function*(){var e=o.asArray("string"==typeof t.file?yield i.File.resolve(t.file):t.file);return(yield e[0].size()).width}))}fnCompileTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}fnRunTime(t){return r(this,void 0,void 0,(function*(){return yield this.exec(t)}))}}},4908:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(7083),i=n(4646),a=n(7978),s=n(5565);e.Template=class{constructor(){this.name="template",this.templateOptions={async:!0,escape:t=>t,rmWhitespace:!1},this.templateRuntimeOptions=Object.assign(Object.assign({},this.templateOptions),{delimiter:"$"}),l||(l=!0,c(new a.LSHelper),c(new s.SizeHelper),c(new s.ImageInfoHelper),c(new s.HeightHelper),c(new s.WidthHelper))}fnCompileTime(t){return r(this,void 0,void 0,(function*(){if("string"==typeof t.script){const e=o.compile(t.script,this.templateOptions);let n=Object.assign({},t);u.forEach((e=>{n[e.name]=e.fnCompileTime.bind(Object.assign(e,{options:t}))}));const r=yield e(n);return Object.assign(Object.assign({},t),{script:r})}return t}))}fnRuntime(t,e,n){return r(this,void 0,void 0,(function*(){var e="string"===t.command?t.command:t.command?i.arrayToCliOne(t.command):"";const r=o.compile(e,this.templateRuntimeOptions);let a={runOptions:n,commandOptions:t};u.filter((t=>t.fnRunTime)).forEach((t=>{a[t.name]=t.fnRunTime.bind(t)}));var s=yield r(a);t.command=i.processCommand(s)}))}};const u=[];function c(t){u.push(t)}e.addTemplateHelper=c;let l=!1},3391:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let n={nodeFsLocalRoot:"working_tmp",emscriptenNodeFsRoot:"/w2",debug:!1,outputDir:".",disableNodeFs:!1,useNative:!1,mainConcurrency:3,mainInterval:0,customCommandPrefix:"!js:"};e.getOptions=function(){return n},e.getOption=function(t){return n[t]},e.setOptions=function(t){n=Object.assign(Object.assign({},n),t)}},5278:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(9575);function o(t){return r.Base64.encode(t)}function i(t,e,n){return`data:${e}${n?`;name=${n}`:""};base64,${t}`}function a(t){return t.substring(t.indexOf(";base64,")+8)}function s(t){var e="";return[].slice.call(new Uint8Array(t)).forEach((t=>e+=String.fromCharCode(t))),e}e.dataToUrl=function(t,e,n){return i(o(t),e,n)},e.dataToBase64=o,e.base64ToUrl=i,e.urlToBase64=a,e.urlToData=function(t){return r.Base64.atob(a(t))},e.isBase64=function(t){if(""===t||""===t.trim())return!1;try{return r.Base64.btoa(r.Base64.atob(t))==t}catch(e){return!1}},e.getDataUrlFileName=function(t){let e=t&&t.split(";base64,");const n=e.length?e[0].split(";").find((t=>t.includes("name="))):"";return e=n?n.split("="):[],e[e.length-1]},e.arrayBufferToBase64=function(t){var e=s(t);return window.btoa(e)},e.arrayBufferToString=s},3029:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(8689),o=n(8030),i=n(3391);function a(t){const{emscriptenNodeFsRoot:e}=i.getOptions(),n="string"==typeof t?t:t.name;return n.startsWith(`${e}/`)?n.substring(`${e}/`.length,n.length):`${n}`}function s(t){const{emscriptenNodeFsRoot:e}=i.getOptions(),n="string"==typeof t?t:t.name;return n.startsWith(`${e}/`)?n:`${e}/${n}`}e.readFile=function(t,e=o.getFS()){return new r.File(a(t),e.readFile(s(t)))},e.getFileName=a,e.getFilePath=s,e.writeFile=function(t,e=o.getFS()){e.writeFile(s(t.name),t.content)},e.removeFile=function(t,e=o.getFS()){e.unlink(s(s(t)))},e.isDir=function(t,e=o.getFS()){try{return e.isDir(e.stat(s(t)).mode)}catch(n){return!1}},e.isFile=function(t,e=o.getFS()){try{return e.isFile(e.stat(s(t)).mode)}catch(n){return!1}}},4999:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3029),o=n(673),i=n(2093),a=n(7918);e.fileUtil={listFilesRecursively:o.listFilesRecursively,rmRf:a.rmRf,ls:o.ls,isFile:r.isFile,isDir:r.isDir,readFile:r.readFile,writeFile:r.writeFile,getFilePath:r.getFilePath,getFileName:r.getFileName,mkdirp:i.mkdirp};var s=n(4565);e.getMagica=s.getMagica},673:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5800);function o(t){const e=[];return function n(o){return t.isDir(o)?t.ls(o).map((t=>r.pathJoin(o,r.basename(t)))).some((r=>{const o={path:r,isDir:t.isDir(r)};return e.push(o),!!t.visitor(o)||!!o.isDir&&n(r)})):(t.visitor({path:o,isDir:!1}),!0)}(t.path),e}function i(t,e){return e.readdir(t).filter((t=>![".",".."].includes(t)))}e.lsR=o,e.listFilesRecursively=function(t,e){return o({path:t,ls:t=>i(t,e),isDir:t=>e.isDir(e.stat(t).mode),visitor:t=>!1})},e.ls=i},4565:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5800),o=n(8689),i=n(8595),a=n(4492),s=n(3543),u=n(8755),c=n(9195),l=n(1165),f=n(8030),d=n(4646),p=n(2908),h=n(1983),m=n(9268),v=n(4908),g=n(3391);function y(){return{File:o.File,toDataUrl:a.toDataUrl,imageBuiltIn:l.imageBuiltIn,imageCompare:s.imageCompare,magickLoaded:f.magickLoaded,imageInfo:u.imageInfo,imagePixelColor:c.imagePixelColor,registerCommandPreprocessor:p.registerCommandPreprocessor,main:h.main,cliToArray:d.cliToArray,run:m.run,protectFile:i.protectFile,isProtectedFile:i.isProtectedFile,addTemplateHelper:v.addTemplateHelper,getOptions:g.getOptions,setOptions:g.setOptions,colorCount:c.colorCount}}e.getMagica=function(){return y()},e.installMagica=function(){r.getGlobal().Magica=y()}},3300:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5800);let o,i;function a(){if(!i&&r.inBrowser()){var t=document.currentScript||document.querySelector('script[src*="myscript.js"]');i=t?t.src:void 0,i&&(o=r.getParametersFromUrl(i))}return t}e.getThisBrowserScriptTagSrc=a,e.getThisBrowserScriptTagSrcParams=function(){return a(),o}},2093:function(t,e){"use strict";function n(t,e,n){const r=t.split("/");!function t(o){if(r.length<o)return;const i=r.slice(0,o).join("/").trim();i&&!e(i)&&n(i),t(o+1)}(0)}Object.defineProperty(e,"__esModule",{value:!0}),e.mkdirp=n,e.makeDirRecursive=function(t,e){return n(t,(t=>e.analyzePath(t).exists),e.mkdir)}},7918:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3391),o=n(673);e.rmRf=function t(e,n,i=(t=>!0),a=[]){if(n.isDir(n.stat(e).mode)){if(o.ls(e,n).some((e=>t(e,n,i,a))),i(e))try{n.rmdir(e),a.push(e)}catch(s){return r.getOption("debug")&&console.log(`Error in rmRf command rmdir ${e}`,s),!0}}else if(i(e))try{n.unlink(e),a.push(e)}catch(s){return r.getOption("debug")&&console.log(`Error in rmRf command unlink ${e}`,s),!0}return!1}},8155:function(t,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};function r(t,e){for(var n=[],r=0;r<t;r++)n.push(void 0===e?r:e);return n}function o(t){return t.sort((function(){return Math.random()-.5}))}Object.defineProperty(e,"__esModule",{value:!0}),e.fill=e.arrayRangePartition=e.shuffle=e.randomItems=e.seq=e.asArray=e.array=void 0,e.array=r,e.asArray=function(t){return Array.isArray(t)?t:[t]},e.seq=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=0);for(var r=[],o=t;o<n;o+=e)r.push(o);return r},e.randomItems=function(t,e){if(e<=0)return[];e=Math.min(t.length,e);for(var n=o(r(t.length)),i=[],a=0;a<e;a++)i.push(t[n[a]]);return i},e.shuffle=o,e.arrayRangePartition=function(t,e,o){var i=[],a=[];return t.map((function(t,n){a.push(t),a.length===e&&(i.push(a),a=[])})),a.length&&(void 0!==o&&a.length<e&&(a=n(a,r(e-a.length).map((function(t){return o})))),i.push(a)),i},e.fill=function(t,e,o,i){return void 0===i&&(i=!1),t.length<e&&(t=i?n(r(e-t.length).map((function(t){return o})),t):n(t,r(e-t.length).map((function(t){return o})))),t}},8176:function(t,e){"use strict";function n(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}Object.defineProperty(e,"__esModule",{value:!0}),e.buildEnumMap=e.toObject=e.enumValueFromString=e.getEnumKeyAndValue=e.getEnumKey=e.enumNoValueKeys=e.enumKeys=void 0,e.enumKeys=function(t){var e=[];for(var n in t)e.push(n);return e},e.enumNoValueKeys=function(t){return Object.keys(t).map((function(e){return t[e]})).filter((function(t,e,n){return"string"==typeof t&&n.indexOf(t)===e}))},e.getEnumKey=function(t,e){for(var n in t)if(e===t[n])return n;return""},e.getEnumKeyAndValue=n,e.enumValueFromString=function(t,e){return e[t]},e.toObject=function(t,e){var n={};return t.forEach((function(t){n[t[e]]=t})),n},e.buildEnumMap=function(t){var e={};return n(t).forEach((function(t){var n=t.key,r=t.value;isNaN(parseInt(n))?e[n.toLowerCase()]=r:e[parseInt(n)]=parseInt(n)})),e}},3583:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.anyUndefined=e.notSameNotFalsy=e.notSame=e.notFalsy=e.notUndefined=e.dedup=void 0,e.dedup=function(t,e){return t.filter((function(t,n,r){return n===r.findIndex((function(n){return e(t,n)}))}))},e.notUndefined=function(t){return void 0!==t},e.notFalsy=function(t){return!!t},e.notSame=function(t,e,n){return n.indexOf(t)===e},e.notSameNotFalsy=function(t,e,n){return n.indexOf(t)===e},e.anyUndefined=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!!t.find((function(t){return void 0===t}))}},2825:function(t,e){"use strict";function n(t){return t&&t.length?t.reduce((function(t,e){return t.concat(e)})):[]}Object.defineProperty(e,"__esModule",{value:!0}),e.flatInstallArrayPrototype=e.flatReadOnly=e.flat=e.flatDeep=void 0,e.flatDeep=function t(e){return e&&e.length?e.reduce((function(e,n){return Array.isArray(n)?e.concat(t(n)):e.concat(n)}),[]):[]},e.flat=n,e.flatReadOnly=function(t){return t&&t.length?t.reduce((function(t,e){return t.concat(e)})):[]},e.flatInstallArrayPrototype=function(){void 0===Array.prototype.flat&&(Array.prototype.flat=function(){return n(this)})}},9138:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(8155),e),o(n(8176),e),o(n(3583),e),o(n(2825),e),o(n(4411),e),o(n(3137),e)},4411:function(t,e){"use strict";function n(t,e,n){for(var r=0;r<t.length;r++){var o=t[r];if(e.apply(n,[o,r,t]))return o}}Object.defineProperty(e,"__esModule",{value:!0}),e.installArrayPrototypeFind=e.arrayPrototypeFind=void 0,e.arrayPrototypeFind=n,e.installArrayPrototypeFind=function(t){void 0===t&&(t=!1),Array.prototype.find=void 0===Array.prototype.find||t?function(t,e){return n(this,t,e)}:Array.prototype.find}},3137:function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.arrayDifference=e.arrayInterception=e.arrayUnion=e.unionEquals=void 0;var o=n(3583);function i(t,e,n,i){void 0===n&&(n=function(t,e){return t===e});var a=o.dedup(r(t,e),n);return i&&i.push.apply(i,o.dedup(r(a,i),n)),a}e.unionEquals=i,e.arrayUnion=i,e.arrayInterception=function(t,e,n,i){void 0===n&&(n=function(t,e){return t===e});var a=t.filter((function(t){return e.find((function(e){return n(t,e)}))}));return a=o.dedup(a,n),i&&i.push.apply(i,o.dedup(r(a,i),n)),a},e.arrayDifference=function(t,e,n,i){void 0===n&&(n=function(t,e){return t===e});var a=t.filter((function(t){return!e.find((function(e){return n(t,e)}))})).concat(e.filter((function(e){return!t.find((function(t){return n(e,t)}))})));return a=o.dedup(a,n),i&&i.push.apply(i,o.dedup(r(a,i),n)),a}},7578:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomCssColor=e.rgb2Hex=void 0;var r=n(85);e.rgb2Hex=function(t){return t.match(/[0-9]+/g).reduce((function(t,e){return t+(256|e).toString(16).slice(1)}),"#").toString(16)},e.randomCssColor=function(){return"rgb("+r.randomIntBetween(0,255)+", "+r.randomIntBetween(0,255)+", "+r.randomIntBetween(0,255)+")"}},4659:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareText=e.compareTexts=void 0;var r=n(9138);function o(t,e,n){return t===e?!n.negate||i(!0):(t=a(t,n),e=a(e,n),n.verb&&"contains"!==n.verb?"equals"===n.verb?n.negate?i(t===e):t===e:"contained"===n.verb?n.negate?i(e.includes(t)):e.includes(t):"endsWith"===n.verb?n.negate?i(t.endsWith(e)):t.endsWith(e):"startsWith"===n.verb?n.negate?i(t.startsWith(e)):t.startsWith(e):!!n.negate&&i(!1):n.negate?i(t.includes(e)):t.includes(e))}function i(t){return!t}function a(t,e){return e.caseInsensitive&&(t=t.toLowerCase()),e.asCode&&(t=t.replace(/\s+/g," ").trim()),t}e.compareTexts=function(t,e,n){return function(t,e,n,o){var a=r.asArray(t),s=r.asArray(e);if(a===s)return!n.negate||i(!0);if(n.multiplicity&&"anyOf"!==n.multiplicity){if("allOf"===n.multiplicity){u=!a.find((function(t){return!s.find((function(e){return o(t,e,n)}))}));return n.negate?i(u):u}return!!n.negate&&i(!1)}var u=!!a.find((function(t){return!!s.find((function(e){return o(t,e,n)}))}));return n.negate?i(u):u}(t,e,n,o)},e.compareText=o},835:function(t,e,n){"use strict";function r(){return"undefined"!=typeof process&&void 0!==n.g&&"function"==typeof process.exit&&void 0!==n(2396)&&"function"==typeof n(2396).writeFileSync&&void 0!==n(5764)&&"function"==typeof n(5764).execSync}function o(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof Node&&document.nodeType===Node.DOCUMENT_NODE}function i(){return!e.isDOM()&&!r()&&"undefined"!=typeof self&&void 0!==self.onmessage}Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobal=e.isWebWorker=e.isDOM=e.inDOM=e.isBrowser=e.inBrowser=e.inNode=e.isJSDOM=e.isNode=void 0,e.isNode=r,e.isJSDOM=function(){return r()&&e.isDOM()},e.inNode=r,e.inBrowser=o,e.isBrowser=o,e.inDOM=o,e.isDOM=o,e.isWebWorker=i;var a=this;e.getGlobal=function(){return i()?self:r()?n.g:e.isBrowser()?window:a}},8896:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=void 0;var n=function(){function t(){this.l=[]}return t.prototype.add=function(t){this.l.push(t)},t.prototype.emit=function(t){this.l.forEach((function(e){return e(t)}))},t.prototype.remove=function(t){this.l=this.l.filter((function(e){return e!==t}))},t}();e.Emitter=n},2931:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tryTo=e.checkTruthy=e.checkThrow=void 0,e.checkThrow=function(t,e){if(void 0===e&&(e="Throwing on undefined value"),!t)throw new Error(e);return t},e.checkTruthy=function(t,e){if(void 0===e&&(e="Throwing on undefined value"),!t)throw new Error(e);return!0},e.tryTo=function(t,e){try{return t()}catch(n){return e}}},6473:function(t,e){"use strict";function n(t){var e=a(t).lastIndexOf(".");return-1===e?t:t.substring(0,e)}function r(t){var e=a(t).lastIndexOf("/");return-1===e?"":t.substring(0,e)}function o(t,e){t=a(t);var n="/",r=(e=a(e)).split(n),o=t.split(n),i=r.pop(),s=r.join(n);if(r.length<2&&o.length<2)return e;for(var u="";-1===s.indexOf(o.join(n));)o.pop(),u+="../";var c=r.slice(o.length);return c.length&&(u+=c.join(n)+n),u+i}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new RegExp("/{1,}","g");return t.filter(Boolean).map(a).join("/").replace(n,"/")}function a(t){var e=/^\\\\\?\\/.test(t),n=/[^\u0000-\u0080]+/.test(t);return e||n?t:t.replace(/\\/g,"/")}Object.defineProperty(e,"__esModule",{value:!0}),e.withFinalSlash=e.detectNewline=e.slash=e.parseGitIgnore=e.pathJoin=e.getRelativePath=e.dirname=e.getFileExtension=e.basename=e.withoutExtension=e.bytesToKiloBytes=void 0,e.bytesToKiloBytes=function(t){return t/1e3},e.withoutExtension=n,e.basename=function(t,e){void 0===e&&(e=!1);var r=a(t).lastIndexOf("/"),o=-1===r?t:t.substring(r+1,t.length);return e?n(o):o},e.getFileExtension=function(t){var e=t.lastIndexOf(".");return-1==e||e===t.length-1?"":t.substring(e+1,t.length)},e.dirname=r,e.getRelativePath=o,e.pathJoin=i,e.parseGitIgnore=function(t,e){void 0===e&&(e={cwd:".",fileName:".gitignore"});var n=o(e.cwd,r(e.fileName));return t.split(/\r?\n/).filter(Boolean).filter((function(t){return"#"!==t.charAt(0)})).map(function(t){return function(e){return e.startsWith("!")?"!"+i(t,e.slice(1)):i(t,e)}}(n))},e.slash=a,e.detectNewline=function(t,e){void 0===e&&(e="\n");var n=t.match(/(?:\r?\n)/g)||[];if(0===n.length)return e;var r=n.filter((function(t){return"\r\n"===t})).length;return r>n.length-r?"\r\n":"\n"},e.withFinalSlash=function(t){return t.endsWith("/")?t:t+"/"}},5990:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isClassConstructorFunction=e.isGeneratorFunction=e.isGenerator=void 0,e.isGenerator=function(t){return t&&"function"==typeof t.next&&"function"==typeof t.throw},e.isGeneratorFunction=function(t){return"function"==typeof t&&t.constructor&&"GeneratorFunction"===t.constructor.name},e.isClassConstructorFunction=function(t){return t&&t.prototype&&t.prototype.constructor&&t.prototype.constructor.toString().startsWith("class")}},4386:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=e.Point=e.pointInside=void 0,e.pointInside=function(t,e){return t.x>=e.x&&t.y>=e.y&&t.x<=e.x+e.width&&t.y<=e.y+e.height};var n=function(){function t(t,e){this.x=t,this.y=e,this.set(t,e)}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equals=function(t,e){return this.x==t&&this.y==e},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.prototype.map=function(t){return this.x=t(this.x),this.y=t(this.y),this},t.prototype.add=function(t,e){return this.x+=t,this.y+=e,this},t.prototype.subtract=function(t,e){return this.x-=t,this.y-=e,this},t.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.prototype.isZero=function(){return 0===this.x&&0==this.y},t}();e.Point=n;var r=function(){function t(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}return Object.defineProperty(t.prototype,"x",{get:function(){return this.left},set:function(t){var e=this.left-t;this.left=t,this.right-=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.top},set:function(t){var e=this.top-t;this.top=t,this.bottom-=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},set:function(t){this.right=this.left+t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},set:function(t){this.bottom=this.top+t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.left>=this.right||this.top>=this.bottom},t.prototype.setRect=function(t,e,n,r){return this.left=t,this.top=e,this.right=t+n,this.bottom=e+r,this},t.prototype.setBounds=function(t,e,n,r){return this.top=e,this.left=t,this.bottom=r,this.right=n,this},t.prototype.equals=function(t){return t&&(this.isEmpty()&&t.isEmpty()||this.top==t.top&&this.left==t.left&&this.bottom==t.bottom&&this.right==t.right)},t.prototype.clone=function(){return new t(this.left,this.top,this.right-this.left,this.bottom-this.top)},t.prototype.center=function(){if(this.isEmpty())throw new Error("Empty rectangles do not have centers");return new n(this.left+(this.right-this.left)/2,this.top+(this.bottom-this.top)/2)},t.prototype.copyFrom=function(t){return this.top=t.top,this.left=t.left,this.bottom=t.bottom,this.right=t.right,this},t.prototype.translate=function(t,e){return this.left+=t,this.right+=t,this.top+=e,this.bottom+=e,this},t.prototype.toString=function(){return"["+this.x+","+this.y+","+this.width+","+this.height+"]"},t.prototype.union=function(t){return this.clone().expandToContain(t)},t.prototype.contains=function(t){return!!t.isEmpty()||!this.isEmpty()&&(t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom)},t.prototype.intersect=function(t){return this.clone().restrictTo(t)},t.prototype.intersects=function(t){if(this.isEmpty()||t.isEmpty())return!1;var e=Math.max(this.left,t.left),n=Math.min(this.right,t.right),r=Math.max(this.top,t.top),o=Math.min(this.bottom,t.bottom);return e<n&&r<o},t.prototype.restrictTo=function(t){if(this.isEmpty()||t.isEmpty())return this.setRect(0,0,0,0);var e=Math.max(this.left,t.left),n=Math.min(this.right,t.right),r=Math.max(this.top,t.top),o=Math.min(this.bottom,t.bottom);return this.setRect(e,r,Math.max(0,n-e),Math.max(0,o-r))},t.prototype.expandToContain=function(t){if(this.isEmpty())return this.copyFrom(t);if(t.isEmpty())return this;var e=Math.min(this.left,t.left),n=Math.max(this.right,t.right),r=Math.min(this.top,t.top),o=Math.max(this.bottom,t.bottom);return this.setRect(e,r,n-e,o-r)},t.prototype.round=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this},t.prototype.scale=function(t,e){return this.left*=t,this.right*=t,this.top*=e,this.bottom*=e,this},t.prototype.map=function(t){return this.left=t(this.left),this.top=t(this.top),this.right=t(this.right),this.bottom=t(this.bottom),this},t.prototype.translateInside=function(t){var e=0;this.left<=t.left?e=t.left-this.left:this.right>t.right&&(e=t.right-this.right);var n=0;return this.top<=t.top?n=t.top-this.top:this.bottom>t.bottom&&(n=t.bottom-this.bottom),this.translate(e,n)},t.prototype.subtract=function(e){var n=new t(0,0,0,0),r=[];return(e=e.intersect(this)).isEmpty()?[this.clone()]:(n.setBounds(this.left,this.top,e.left,this.bottom),n.isEmpty()||r.push(n.clone()),n.setBounds(e.left,this.top,e.right,e.top),n.isEmpty()||r.push(n.clone()),n.setBounds(e.left,e.bottom,e.right,this.bottom),n.isEmpty()||r.push(n.clone()),n.setBounds(e.right,this.top,this.right,this.bottom),n.isEmpty()||r.push(n.clone()),r)},t.prototype.blend=function(e,n){return new t(this.left+(e.left-this.left)*n,this.top+(e.top-this.top)*n,this.width+(e.width-this.width)*n,this.height+(e.height-this.height)*n)},t.prototype.inflate=function(t,e){var n=(this.width*t-this.width)/2,r=arguments.length>1?e:t,o=(this.height*r-this.height)/2;return this.left-=n,this.right+=n,this.top-=o,this.bottom+=o,this},t.prototype.inflateFixed=function(t){return this.left-=t,this.right+=t,this.top-=t,this.bottom+=t,this},t}();e.Rect=r},5800:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(9138),e),o(n(7578),e),o(n(4659),e),o(n(835),e),o(n(8896),e),o(n(2931),e),o(n(6473),e),o(n(5990),e),o(n(4386),e),o(n(8160),e),o(n(9434),e),o(n(8882),e),o(n(4914),e),o(n(85),e),o(n(6664),e),o(n(9427),e),o(n(4813),e),o(n(9113),e),o(n(6743),e),o(n(2889),e),o(n(7341),e),o(n(6049),e),o(n(9893),e)},8160:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isJSONObject=e.findJson=e.visitJson=e.cloneJSON=e.stringifyJSON=e.parseJSON=void 0;var r=n(9427),o=n(6049);function i(t,e,n){return o.isArray(t)&&t?e(t,n)||t.some((function(t,n){return i(t,e,n)})):"object"==typeof t&&t?e(t,n)||r.objectToArray(t).some((function(t){return i(t.value,e,t.key)})):e(t,n)}e.parseJSON=function(t,e){void 0===e&&(e=void 0);try{return JSON.parse(t)}catch(n){return e}},e.stringifyJSON=function(t,e){void 0===e&&(e=void 0);try{return JSON.stringify(t)}catch(n){return e}},e.cloneJSON=function(t){return JSON.parse(JSON.stringify(t))},e.visitJson=i,e.findJson=function(t,e,n){var r=void 0;return i(t,(function(t,n){return!!e(t,n)&&(r={value:t,key:n},!0)})),r},e.isJSONObject=function(t){return"object"==typeof t&&!Array.isArray(t)}},9434:function(t,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.median=e.average=void 0,e.average=function(t){return t.reduce((function(t,e){return t+e}),0)/t.length},e.median=function(t){var e=Math.floor(t.length/2),r=n(t).sort((function(t,e){return t-e}));return t.length%2!=0?r[e]:(r[e-1]+r[e])/2}},8882:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=e.mergeRecursive=e.clone=e.recursive=void 0;var r=n(6049);function o(t){var e,n,i=t,a=r.typeOf(t);if("array"===a)for(i=[],n=t.length,e=0;e<n;++e)i[e]=o(t[e]);else if("object"===a)for(e in i={},t)i[e]=o(t[e]);return i}function i(t,e){if("object"!==r.typeOf(t))return e;for(var n in e)"object"===r.typeOf(t[n])&&"object"===r.typeOf(e[n])?t[n]=i(t[n],e[n]):t[n]=e[n];return t}function a(t,e){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var s=n[0],u=n.length;(t||"object"!==r.typeOf(s))&&(s={});for(var c=0;c<u;++c){var l=n[c];if("object"===r.typeOf(l))for(var f in l)if("__proto__"!==f){var d=t?o(l[f]):l[f];s[f]=e?i(s[f],d):d}}return s}e.recursive=function(t){return a(!0===t,!0,arguments)},e.clone=o,e.mergeRecursive=i,e.merge=a},4914:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExtensionsForMimeType=e.getMimeTypeForExtension=void 0,e.getMimeTypeForExtension=function(t){return Object.keys(n).find((function(e){return n[e].extensions.includes(t)}))},e.getExtensionsForMimeType=function(t){var e=Object.keys(n).find((function(e){return e===t}));return e&&n[e].extensions};var n={"application/atom+xml":{extensions:["atom"]},"application/java-archive":{extensions:["jar","war","ear"]},"application/javascript":{extensions:["js"]},"application/json":{extensions:["json"]},"application/mac-binhex40":{extensions:["hqx"]},"application/msword":{extensions:["doc"]},"application/octet-stream":{extensions:["bin","exe","dll","deb","dmg","iso","img","msi","msp","msm"]},"application/pdf":{extensions:["pdf"]},"application/postscript":{extensions:["ps","eps","ai"]},"application/rss+xml":{extensions:["rss"]},"application/rtf":{extensions:["rtf"]},"application/vnd.apple.mpegurl":{extensions:["m3u8"]},"application/vnd.google-earth.kml+xml":{extensions:["kml"]},"application/vnd.google-earth.kmz":{extensions:["kmz"]},"application/vnd.ms-excel":{extensions:["xls"]},"application/vnd.ms-fontobject":{extensions:["eot"]},"application/vnd.ms-powerpoint":{extensions:["ppt"]},"application/vnd.oasis.opendocument.graphics":{extensions:["odg"]},"application/vnd.oasis.opendocument.presentation":{extensions:["odp"]},"application/vnd.oasis.opendocument.spreadsheet":{extensions:["ods"]},"application/vnd.oasis.opendocument.text":{extensions:["odt"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:["docx"]},"application/vnd.wap.wmlc":{extensions:["wmlc"]},"application/x-7z-compressed":{extensions:["7z"]},"application/x-cocoa":{extensions:["cco"]},"application/x-java-archive-diff":{extensions:["jardiff"]},"application/x-java-jnlp-file":{extensions:["jnlp"]},"application/x-makeself":{extensions:["run"]},"application/x-perl":{extensions:["pl","pm"]},"application/x-pilot":{extensions:["prc","pdb"]},"application/x-rar-compressed":{extensions:["rar"]},"application/x-redhat-package-manager":{extensions:["rpm"]},"application/x-sea":{extensions:["sea"]},"application/x-shockwave-flash":{extensions:["swf"]},"application/x-stuffit":{extensions:["sit"]},"application/x-tcl":{extensions:["tcl","tk"]},"application/x-x509-ca-cert":{extensions:["der","pem","crt"]},"application/x-xpinstall":{extensions:["xpi"]},"application/xhtml+xml":{extensions:["xhtml"]},"application/xspf+xml":{extensions:["xspf"]},"application/zip":{extensions:["zip"]},"audio/midi":{extensions:["mid","midi","kar"]},"audio/mpeg":{extensions:["mp3"]},"audio/ogg":{extensions:["ogg"]},"audio/x-m4a":{extensions:["m4a"]},"audio/x-realaudio":{extensions:["ra"]},"font/woff":{extensions:["woff"]},"font/woff2":{extensions:["woff2"]},"image/gif":{extensions:["gif"]},"image/jpeg":{extensions:["jpeg","jpg"]},"image/png":{extensions:["png"]},"image/svg+xml":{extensions:["svg","svgz"]},"image/tiff":{extensions:["tif","tiff"]},"image/vnd.wap.wbmp":{extensions:["wbmp"]},"image/webp":{extensions:["webp"]},"image/x-icon":{extensions:["ico"]},"image/x-jng":{extensions:["jng"]},"image/x-ms-bmp":{extensions:["bmp"]},"text/css":{extensions:["css"]},"text/html":{extensions:["html","htm","shtml"]},"text/mathml":{extensions:["mml"]},"text/plain":{extensions:["txt"]},"text/vnd.sun.j2me.app-descriptor":{extensions:["jad"]},"text/vnd.wap.wml":{extensions:["wml"]},"text/x-component":{extensions:["htc"]},"text/xml":{extensions:["xml"]},"video/3gpp":{extensions:["3gpp","3gp"]},"video/mp2t":{extensions:["ts"]},"video/mp4":{extensions:["mp4"]},"video/mpeg":{extensions:["mpeg","mpg"]},"video/quicktime":{extensions:["mov"]},"video/webm":{extensions:["webm"]},"video/x-flv":{extensions:["flv"]},"video/x-m4v":{extensions:["m4v"]},"video/x-mng":{extensions:["mng"]},"video/x-ms-asf":{extensions:["asx","asf"]},"video/x-ms-wmv":{extensions:["wmv"]},"video/x-msvideo":{extensions:["avi"]}}},85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPrime=e.randomItem=e.clamp=e.intBetween=e.between=e.float=e.floats=e.randomFloatsBetween=e.randomFloatBetween=e.int=e.ints=e.randomIntsBetween=e.randomIntBetween=e.counter=e.unique=void 0;var r=n(9138),o=0;e.unique=function(t){return void 0===t&&(t="_"),t+o++};var i=0;function a(t,e){return Math.floor(Math.random()*e)+t}function s(t,e,n){return r.array(t).map((function(t){return a(e,n)}))}function u(t,e){return Math.random()*e+t}function c(t,e,n){return r.array(t).map((function(t){return u(e,n)}))}function l(t,e,n){return Math.trunc(Math.max(e,Math.min(t,n)))}e.counter=function(){return i++},e.randomIntBetween=a,e.randomIntsBetween=s,e.ints=s,e.int=a,e.randomFloatBetween=u,e.randomFloatsBetween=c,e.floats=c,e.float=u,e.between=function(t,e,n){return Math.max(e,Math.min(t,n))},e.intBetween=l,e.clamp=l,e.randomItem=function(t){return t[a(0,t.length-1)]},e.isPrime=function(t){for(var e=2,n=Math.sqrt(t);e<=n;e++)if(t%e==0)return!1;return 1!==t}},6664:function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.bin2dec=e.dec2bin=e.decimalDigitNormalizer=e.binaryDigitNormalizer=e.binaryStraightNormalizer=void 0;var o=n(8155);e.binaryStraightNormalizer={encode:function(t,e){var n=s(t);if(e=void 0===e?n.length:e,n.length>e)throw new Error("Number greater than input size");return r(o.array(e-n.length).map((function(t){return 0})),n)},decode:function(t){return u(t)}};var i=s(9).length;function a(t){return{from:function(e){return{to:function(n){return parseInt(t,e).toString(n)}}}}}function s(t,e){var n=function(t){for(var e=[],n=0;n<t.length;n++)e.push(Math.round(parseFloat(t[n])));return e}(a(t).from(10).to(2));if(e){if(n.length>e)throw new Error("array length already exceeded by input");for(var r=e-n.length,o=0;o<r;o++)n.unshift(0)}return n}function u(t){return Math.round(parseFloat(a(t.join("")).from(2).to(10)))}e.binaryDigitNormalizer={encode:function(t,e){var n=(""+t).split("").map((function(t){return parseInt(t,10)})).map((function(t){return s(t,i)})).flat();if(e=void 0===e?n.length:e,n.length>e)throw new Error("Number greater than input size");return r(o.array(e-n.length).map((function(t){return 0})),n)},decode:function(t){return o.arrayRangePartition(t,i,0).reverse().map((function(t){return u(t)})).reduce((function(t,e,n){return t+e*Math.pow(10,n)}))}},e.decimalDigitNormalizer={encode:function(t,e){var n=(""+t).split("").map((function(t){return parseInt(t)/10}));if(e&&n.length>e)throw new Error("greater than length");return e&&n.length<e&&(n=r(o.array(e-n.length).map((function(t){return 0})),n)),n},decode:function(t){return parseInt(t.map((function(t){return Math.round(10*t)})).join(""))}},e.dec2bin=s,e.bin2dec=u},9427:function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.getObjectPropertyPaths=e.setObjectProperty=e.getObjectProperty=e.arrayToObject=e.objectOrderKeysAlphabetically=e.objectFilter=e.objectToArray=e.objectMap=e.objectMapValues=e.objectKeys=void 0;var o=n(9138),i=n(6049);function a(t){return Object.keys(t)}function s(t,e){var n={};return a(t).forEach((function(r){n[r]=e(r,t[r])})),n}e.objectKeys=a,e.objectMapValues=s,e.objectMap=s,e.objectToArray=function(t){return a(t).map((function(e){return{key:e,value:t[e]}}))},e.objectFilter=function(t,e){var n={};return a(t).filter((function(n,r){return e(n,t[n])})).forEach((function(e){n[e]=t[e]})),n},e.objectOrderKeysAlphabetically=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),e},e.arrayToObject=function(t,e){var n={};return t.filter(o.notUndefined).forEach((function(t){n[t]=e(t)})),n},e.getObjectProperty=function(t,e,n){if(void 0===n&&(n=void 0),!e)return t;if(t){for(var r="string"==typeof e?e.split("."):e,o=t,i=0;void 0!==o&&i<r.length;)o=o[r[i++]];if(void 0!==o)return o}return n},e.setObjectProperty=function(t,e,n){if(!e||!t)throw new Error("Insufficient arguments");var r="string"==typeof e?e.split("."):e,o=t;if(0===r.length)return Object.assign(t,n),t;for(var i=0;i<r.length-1;++i){var a=r[i];if(void 0===o[a])o[a]="number"==typeof r[i+1]?[]:{};else if("number"==typeof r[i+1]&&!Array.isArray(o[a]))throw new Error("Detected number path item on non array value. Path: "+e+", item: "+r[i+1]+", Value: "+o[a]);o=o[a]}return r.length&&(o[r[r.length-1]]=n),t},e.getObjectPropertyPaths=function(t,e){void 0===e&&(e={ignoreArrayElements:!0,leafsOnly:!1});var n=[];!function t(n,o,a){void 0===o&&(o=[]),void 0===a&&(a=[]);var s=i.isArray(n);if(!e.ignoreArrayElements||!s)for(var u in n){var c=n[u],l=s?parseInt(u):u+"",f=r(a,[l]);(i.isObject(c)||i.isArray(c))&&t(c,o,f),o.push(f),o.push(a)}}(t,n,[]);var o=n.filter((function(t,e,n){return n.length&&n.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(t)}))===e})).sort((function(t,e){return t.length-e.length})).filter((function(t){return t.length>0}));return e.leafsOnly?o.filter((function(t){return!o.find((function(e){return e!==t&&e.length>t.length&&JSON.stringify(t)===JSON.stringify(e.slice(0,t.length))}))})):o}},4813:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};function i(t,e){return n(this,void 0,void 0,(function(){var n;return r(this,(function(r){switch(r.label){case 0:n=0,r.label=1;case 1:return n<t.length?[4,e(t[n],n,t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=e.asyncMap=e.asyncForEach=e.serial=void 0,e.serial=function(t){return new Promise((function(e){t.reduce((function(t,e){return t.then((function(t){return e().then((function(e){return o(t,[e])}))}))}),Promise.resolve([])).then((function(t){e(t)}))}))},e.asyncForEach=i,e.asyncMap=function(t,e){return n(this,void 0,void 0,(function(){var o,a=this;return r(this,(function(s){switch(s.label){case 0:return o=[],[4,i(t,(function(t,i,s){return n(a,void 0,void 0,(function(){var n,a;return r(this,(function(r){switch(r.label){case 0:return a=(n=o).push,[4,e(t,i,s)];case 1:return a.apply(n,[r.sent()]),[2]}}))}))}))];case 1:return s.sent(),[2,o]}}))}))};var a=function(){function t(t){var e=this;this.resolve=null,this.reject=null,this.status="pending",this.promise=new Promise((function(t,n){e.resolve=function(){this.status="resolved",t.apply(this,arguments)},e.reject=function(){this.status="rejected",n.apply(this,arguments)}})),"function"==typeof t&&t.call(this,this.resolve,this.reject)}return t.prototype.then=function(t){return this.promise.then(t)},t.prototype.catch=function(t){return this.promise.catch(t)},t}();e.Deferred=a},9113:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapToArraySQLConvert=e.printSQLMapQuery=e.escapeSQLValue=e.printSQLQuery=void 0;var r=n(5800);function o(t,e){var n=0;return t.replace(/(\?)/g,(function(t,r){return i(e[n++])}))}function i(t){return"string"==typeof t?""+r.quote(t,'"'):t instanceof Date?r.formatDateTimeForSql(t):Array.isArray(t)?t.map(i).join(","):""+t}function a(t,e){var n=[];return{sql:t.replace(/:(\w+)/g,(function(t,r){return Object.prototype.hasOwnProperty.call(e,r)?(n.push(e[r]),"?"):t})),params:n}}e.printSQLQuery=o,e.escapeSQLValue=i,e.printSQLMapQuery=function(t,e){var n=a(t,e);return o(n.sql,n.params)},e.mapToArraySQLConvert=a},8031:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoxChar=e.BorderSide=e.borderStyles=e.BorderStyle=void 0;var r,o,i=n(9138);!function(t){t.light="light",t.double="double",t.round="round",t.heavy="heavy",t.lightDouble="lightDouble",t.doubleLight="doubleLight",t.classic="classic",t.lightTripleDash="lightTripleDash",t.lightQuadrupleDash="lightQuadrupleDash",t.lightDoubleDash="lightDoubleDash",t.heavier="heavier",t.roundDoubleDash="roundDoubleDash",t.roundTripleDash="roundTripleDash",t.roundQuadrupleDash="roundQuadrupleDash",t.heavyDoubleDash="heavyDoubleDash",t.heavyTripleDash="heavyTripleDash",t.heavyQuadrupleDash="heavyQuadrupleDash",t.singleRareCorners="singleRareCorners",t.triangleCorners="triangleCorners"}(r=e.BorderStyle||(e.BorderStyle={})),e.borderStyles=i.enumKeys(r),function(t){t.topLeft="topLeft",t.topRight="topRight",t.bottomRight="bottomRight",t.bottomLeft="bottomLeft",t.left="left",t.bottom="bottom",t.top="top",t.right="right"}(e.BorderSide||(e.BorderSide={})),e.getBoxChar=function(t,e){return a()[t][e]};var a=function(){return o||(o={light:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},double:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},round:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavy:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavier:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightDouble:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},singleRareCorners:{bottom:"",top:"",left:"",right:"",topLeft:"",topRight:"",bottomRight:"",bottomLeft:""},triangleCorners:{bottom:"_",top:"",left:"",right:" ",topLeft:"",topRight:"",bottomRight:"",bottomLeft:""},doubleLight:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},classic:{topLeft:"+",topRight:"+",bottomRight:"+",bottomLeft:"+",left:"|",right:"|",bottom:"",top:"-"}}),o}},811:function(t,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.changeText=void 0,e.changeText=function(t,e){var r=t.split(""),o=0;return e.forEach((function(t){t.toAdd=t.toAdd||"",t.toRemove=t.toRemove||"",r.splice.apply(r,n([t.pos+o,t.toRemove.length],t.toAdd.split(""))),o+=t.toAdd.length-t.toRemove.length})),r.join("")}},9265:function(t,e){"use strict";function n(t,e,n){var r=t.universe.indexOf(e);if(-1===r)throw new Error('input contains char "'+e+"\" that's not present in the universe");var o=t.password[n];if(-1===o)throw new Error('input contains char "'+e+"\" that's not present in the universe");return{universeIndex:r,delta:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.decryptLetters=e.encryptLetters=void 0,e.encryptLetters=function(t){if(t.password.length<t.input.length)throw new Error("password length must be same or greater than input's");return t.input.split("").map((function(e,r){var o=n(t,e,r),i=(o.universeIndex+o.delta)%t.universe.length;return i<0&&(i=t.universe.length+i),t.universe[i]})).join("")},e.decryptLetters=function(t){if(t.password.length<t.input.length)throw new Error("password length must be same or greater than input's");return t.input.split("").map((function(e,r){var o=n(t,e,r),i=(o.universeIndex-o.delta)%t.universe.length;return i<0&&(i=t.universe.length+i),t.universe[i]})).join("")}},7554:function(__unused_webpack_module,exports){"use strict";function evaluate(s,defaultValue){void 0===defaultValue&&(defaultValue=void 0);try{return eval("("+s+")")}catch(error){return defaultValue}}function stringToObject(t,e,n){void 0===t&&(t=""),void 0===e&&(e=","),void 0===n&&(n=":");var r=t.split(e).map((function(t){return t.trim()})),o={};return r.forEach((function(t){var e=t.split(n).map((function(t){return t.trim()}));2===e.length&&(o[e[0]]=e[1])})),o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.stringToObject=exports.evaluate=void 0,exports.evaluate=evaluate,exports.stringToObject=stringToObject},3976:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strip=e.wordWrap=e.indent=e.repeat=e.unquote=e.quote=void 0;var r=n(9138);function o(t,e){return r.array(t,e).join("")}e.quote=function(t,e){return void 0===e&&(e='"'),e+t.replace(new RegExp(e,"g"),"\\"+e)+e},e.unquote=function(t){return t.substring(1,t.length-1)},e.repeat=o,e.indent=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=2),o(t*e," ")},e.wordWrap=function(t,e,n){void 0===n&&(n="\n");var r=n.replace(/\\/,"\\\\");return t.replace(new RegExp("(?![^"+r+"]{1,"+e+"}$)([^"+r+"]{1,"+e+"})\\s","g"),"$1"+n)},e.strip=function(t){return t.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,"")}},8034:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosition=e.getPreviousMatchingPos=void 0,e.getPreviousMatchingPos=function(t,e,n){if(e=t.length<=e?t.length:e,"string"==typeof n){var r=n;n=function(t){return t===r}}for(;e>=0;){if(n(t[e]))break;e--}return e},e.getPosition=function(t,e,n){return t.split(e,n).join(e).length}},8971:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hashCode=void 0,e.hashCode=function(t){var e=0,n=t.length,r=0;if(n>0)for(;r<n;)e=(e<<5)-e+t.charCodeAt(r++)|0;return e}},3357:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addUniqueParam=e.htmlElement=e.stylePropertyNameToCssSyntax=e.styleObjectToCss=e.wrapInHtml=e.unEscapeHtmlAttribute=e.escapeHtmlAttribute=void 0;var r=n(5800);function o(t){for(var e;e=/([A-Z])/.exec(t);)t=t.substring(0,e.index)+"-"+e[1].toLowerCase()+t.substring(e.index+1,t.length);return t}e.escapeHtmlAttribute=function(t){return t.replace(/\"/gim,"&quot;")},e.unEscapeHtmlAttribute=function(t){return t.replace(/\&quot\;/gim,'"')},e.wrapInHtml=function(t){return'\n  <!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8" />\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <title>title</title>\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n</head>\n<body>\n'+t+"\n</body>\n</html>\n"},e.styleObjectToCss=function(t,e){return void 0===e&&(e=""),Object.keys(t).map((function(e){return o(e)+": "+t[e]+";"})).join(e)},e.stylePropertyNameToCssSyntax=o,e.htmlElement=function t(e){var n=e.forceContent||e.innerHTML||(e.children||[]).length,r="<"+e.name;return e.attributes&&(r+=" "+e.attributes.map((function(t){return t.name+'="'+t.value+'"'})).join(" ")),n&&(r+=">"),e.children&&(r+=""+e.children.map((function(e){return t(e)})).join("")),r+=e.innerHTML||"",r+=n?"</"+e.name+">":"/>"},e.addUniqueParam=function(t,e){var n=""+(r.counter()+Math.random());return t.includes("?")?t+"&"+e+"="+n:t+"?"+e+"="+n}},6743:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(8031),e),o(n(811),e),o(n(9265),e),o(n(7554),e),o(n(3976),e),o(n(8034),e),o(n(8971),e),o(n(3357),e),o(n(3651),e),o(n(9809),e)},3651:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=void 0;var n={};e.template=function t(e,r){var o=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[e]=n[e]||t(e);return r?o(r):o}},9809:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.capitalize=e.trimRightLines=e.removeEmptyLines=e.removeWhites=e.shorter=void 0,e.shorter=function(t,e){return void 0===e&&(e=10),t.trim().substring(0,Math.min(t.length,e))+"..."},e.removeWhites=function(t,e){return void 0===e&&(e=" "),t.replace(/\s+/gm,e).trim()},e.removeEmptyLines=function(t,e){return void 0===e&&(e="\n"),t.split(e).filter((function(t){return!!t.trim()})).join(e)},e.trimRightLines=function(t,e){return void 0===e&&(e="\n"),t.split(e).map((function(t){return t.trimRight()})).join(e)},e.capitalize=function(t){return t?t.substring(0,1).toUpperCase()+t.substring(1,t.length):""}},4952:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.easing=e.animate=void 0;var r=n(6049);function o(t,e){void 0===e&&(e=0),setTimeout((function(){return t(Date.now())}),e)}e.animate=function(t){var e=t.duration,n=t.draw,i=t.timing,a=t.lapse,s=t.end;return new Promise((function(t){r.isObject(i)&&(i=i.fn(e));var u=Date.now(),c=0;o((function r(l){var f=(l-u)/e;f>1&&(f=1),c=i(f,l-u,e),n(c),f<1?o(r,a):(s&&s(),t())}))}))},function(t){function e(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+Math.pow(n,2)}t.bounceEasyOut=function(){return t=e,function(e){return 1-t(1-e)};var t},t.quad=function(t){return Math.pow(t,2)},t.back=function(t){return void 0===t&&(t=1.5),function(e){return Math.pow(e,2)*((t+1)*e-t)}},t.elastic=function(t){return void 0===t&&(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},t.bounceEaseInOut=function(){return t=e,function(e){return e<.5?t(2*e)/2:(2-t(2*(1-e)))/2};var t};t.easeInQuad=function(){return{fn:function(t){return function(e,n){return 1*(n/=t)*n+0}}}},t.easeOutQuad=function(){return{fn:function(t){return function(e,n){return-1*(n/=t)*(n-2)+0}}}},t.easeInOutQuad=function(){return{fn:function(t){return function(e,n){return(n/=t/2)<1?.5*n*n+0:-.5*(--n*(n-2)-1)+0}}}},t.easeInElastic=function(){return{fn:function(t){return function(e,n){var r=1.70158,o=0,i=1;if(0==n)return 0;if(1==(n/=t))return 1;if(o||(o=.3*t),i<Math.abs(1)){i=1}else r=o/(2*Math.PI)*Math.asin(1/i);return-i*Math.pow(2,10*(n-=1))*Math.sin((n*t-r)*(2*Math.PI)/o)+0}}}},t.easeOutBounce=function(){return{fn:function(t){return function(e,n){return(n/=t)<1/2.75?7.5625*n*n*1+0:n<2/2.75?1*(7.5625*(n-=1.5/2.75)*n+.75)+0:n<2.5/2.75?1*(7.5625*(n-=2.25/2.75)*n+.9375)+0:1*(7.5625*(n-=2.625/2.75)*n+.984375)+0}}}},t.easeInCubic=function(){return{fn:function(t){return function(e,n){return 1*(n/=t)*n*n+0}}}},t.easeOutCubic=function(){return{fn:function(t){return function(e,n){return 1*((n=n/t-1)*n*n+1)+0}}}},t.easeInOutCubic=function(){return{fn:function(t){return function(e,n){return(n/=t/2)<1?.5*n*n*n+0:.5*((n-=2)*n*n+2)+0}}}},t.easeInQuart=function(){return{fn:function(t){return function(e,n){return 1*(n/=t)*n*n*n+0}}}},t.easeInOutQuart=function(){return{fn:function(t){return function(e,n){return(n/=t/2)<1?.5*n*n*n*n+0:-.5*((n-=2)*n*n*n-2)+0}}}},t.easeInQuint=function(){return{fn:function(t){return function(e,n){return 1*(n/=t)*n*n*n*n+0}}}},t.easeOutQuint=function(){return{fn:function(t){return function(e,n){return 1*((n=n/t-1)*n*n*n*n+1)+0}}}},t.easeInExpo=function(){return{fn:function(t){return function(e,n){return 0==n?0:1*Math.pow(2,10*(n/t-1))+0}}}},t.easeInOutQuint=function(){return{fn:function(t){return function(e,n){return(n/=t/2)<1?.5*n*n*n*n*n+0:.5*((n-=2)*n*n*n*n+2)+0}}}},t.easeInSine=function(){return{fn:function(t){return function(e,n){return-1*Math.cos(n/t*(Math.PI/2))+1+0}}}},t.easeInOutElastic=function(){return{fn:function(t){return function(e,n){var r=1.70158,o=0,i=1;if(0==n)return 0;if(2==(n/=t/2))return 1;if(o||(o=t*(.3*1.5)),i<Math.abs(1)){i=1}else r=o/(2*Math.PI)*Math.asin(1/i);return n<1?i*Math.pow(2,10*(n-=1))*Math.sin((n*t-r)*(2*Math.PI)/o)*-.5+0:i*Math.pow(2,-10*(n-=1))*Math.sin((n*t-r)*(2*Math.PI)/o)*.5+1+0}}}},t.easeOutElastic=function(){return{fn:function(t){return function(e,n){var r=1.70158,o=0,i=1;if(0==n)return 0;if(1==(n/=t))return 1;if(o||(o=.3*t),i<Math.abs(1)){i=1}else r=o/(2*Math.PI)*Math.asin(1/i);return i*Math.pow(2,-10*n)*Math.sin((n*t-r)*(2*Math.PI)/o)+1+0}}}},t.easeInOutExpo=function(){return{fn:function(t){return function(e,n){return 0==n?0:n==t?1:(n/=t/2)<1?.5*Math.pow(2,10*(n-1))+0:.5*(2-Math.pow(2,-10*--n))+0}}}},t.easeInOutBack=function(){return{fn:function(t){return function(e,n){var r=1.70158;return(n/=t/2)<1?n*n*((1+(r*=1.525))*n-r)*.5+0:.5*((n-=2)*n*((1+(r*=1.525))*n+r)+2)+0}}}},t.easeOutBack=function(){return{fn:function(t){return function(t,e,n){var r=1.70158;return 1*((e=e/n-1)*e*((r+1)*e+r)+1)+0}}}},t.easeInBounce=function(){return{fn:function(e){return function(e,n,r){return 1-t.easeOutBounce().fn(r)(e,r-n,0,1,r)+0}}}},t.easeInOutBounce=function(){return{fn:function(e){return function(e,n,r){return n<r/2?.5*t.easeInBounce().fn(r)(e,2*n,0,1,r)+0:.5*t.easeOutBounce().fn(r)(e,2*n-r,0,1,r)+.5+0}}}}}(e.easing||(e.easing={}))},9696:function(t,e){"use strict";function n(t,e){"string"==typeof t&&(t=new Date(t));var n=t.getDay(),r=t.getMonth()+1,o=t.getFullYear();return n<10&&(n="0"+n),r<10&&(r="0"+r),"YYYY-MM-DD"===e?o+"-"+r+"-"+n:r+"/"+n+"/"+o}Object.defineProperty(e,"__esModule",{value:!0}),e.timeHash=e.formatDateTimeForSql=e.formatDateTime=e.formatDate=void 0,e.formatDate=n,e.formatDateTime=function(t,e){"string"==typeof t&&(t=new Date(t));var r=(""+t.getHours()).length<2?"0"+t.getHours():""+t.getHours(),o=(""+t.getMinutes()).length<2?"0"+t.getMinutes():""+t.getMinutes();return n(t,"YYYY-MM-DD")+"T"+r+":"+o},e.formatDateTimeForSql=function(t){"string"==typeof t&&(t=new Date(t));var e=(""+t.getHours()).length<2?"0"+t.getHours():""+t.getHours(),r=(""+t.getMinutes()).length<2?"0"+t.getMinutes():""+t.getMinutes(),o=(""+t.getSeconds()).length<2?"0"+t.getSeconds():""+t.getSeconds();return n(t,"YYYY-MM-DD")+" "+e+":"+r+":"+o},e.timeHash=function(t){return void 0===t&&(t=36),Date.now().toString(t)}},2889:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(4952),e),o(n(9696),e),o(n(3629),e),o(n(7620),e),o(n(8052),e),o(n(2491),e),o(n(7595),e)},3629:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nextTime=void 0,e.nextTime=function(t){var e=t.startingDate?t.startingDate.getTime():0,n=t.from.getTime();if(n<=t.step)throw Error("step too large");var r=Math.ceil(n/t.step)*t.step+e;return new Date(r)}},7620:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.printMs=void 0,e.printMs=function(t,e){void 0===e&&(e={minutes:!1,seconds:!0,ms:!0});var r=(e=n({minutes:!1,seconds:!0,ms:!0},e)).seconds&&Math.floor(t/1e3),o=e.minutes&&r&&(e.ms?Math.floor(r/60):Math.round(r/60)),i=e.ms&&Math.floor(t%1e3||t);return((o?o+" minutes ":"")+(r?r+" seconds ":"")+(i?i+" ms ":"")).trim()}},8052:function(t,e){"use strict";function n(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.blockFor=e.withTime=e.wait=e.sleep=void 0,e.sleep=n,e.wait=n,e.withTime=function(t,e){console.time(t);var n=e();return console.timeEnd(t),n},e.blockFor=function(t){void 0===t&&(t=1e3);for(var e=Date.now();Date.now()-e<t;);}},2491:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0,e.throttle=function(t,e,n){var r,o,i;void 0===n&&(n={});var a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),a=null,i=t.apply(r,o),r=o=null};return function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=e-(c-s);return r=this,o=arguments,l<=0?(clearTimeout(a),a=null,s=c,i=t.apply(r,o),r=o=null):a||!1===n.trailing||(a=setTimeout(u,l)),i}}},7595:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.waitForPredicate=void 0;var a=n(2889),s={interval:200,timeout:3e3};e.waitForPredicate=function(t,e){return void 0===e&&(e={interval:200,timeout:3e3}),o(this,void 0,void 0,(function(){var n,o,u;return i(this,(function(i){switch(i.label){case 0:n="string"==typeof e?r(r({},s),{timeoutError:e}):e,o=setTimeout((function(){var e=n.timeoutError||t.toString().substring(0,Math.min(t.toString().length,100));throw new Error(e)}),n.timeout||3e3),i.label=1;case 1:return(u=t())?[3,3]:[4,a.sleep(n.interval||200)];case 2:return i.sent(),[3,1];case 3:return o&&clearTimeout(o),[2,u]}}))}))}},7341:function(t,e){"use strict";function n(t,e){e(t),(t.childNodes||[]).forEach((function(t){return n(t,e)}))}function r(t,e){void 0===e&&(e=void 0);var n=-1;return t.parentNode&&(e||t.parentNode&&t.parentNode.childNodes||[]).find((function(e,r){return e===t&&(n=r,!0)})),n}function o(t,e,n){return void 0===n&&(n={}),!t||e(t)||!t.parentNode||o(t.parentNode,e,n)}function i(t,e,n){var r;return void 0===n&&(n={}),o(t,(function(t){return!!e(t)&&(r=t,!0)}),n),r}function a(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var o=!1;return n.childrenFirst?(o=(t.childNodes||[]).some((function(t){return a(t,e,n,!0)})))?(n.breakOnDescendantSignal||!n.andSelf&&!r||e(t),!0):((n.andSelf||r)&&(o=e(t)),!1):((n.andSelf||r)&&(o=e(t)),o?n.visitDescendantsOnSelfSignalAnyway&&(t.childNodes||[]).some((function(t){return a(t,e,n,!0)}))||!0:(t.childNodes||[]).some((function(t){return a(t,e,n,!0)})))}Object.defineProperty(e,"__esModule",{value:!0}),e.getDistanceToAncestor=e.getAncestors=e.findDescendant=e.mapDescendants=e.filterDescendants=e.visitDescendants=e.filterAncestors=e.findRootElement=e.findAncestor=e.visitAncestors=e.getPreviousSibling=e.getSiblings=e.getNextSibling=e.getChildIndex=e.filterChildren=e.findChildren=e.mapChildren=e.visitChildren=void 0,e.visitChildren=n,e.mapChildren=function(t,e){var r=[];return n(t,(function(t){return r.push(e(t))})),r},e.findChildren=function(t,e){return(t.childNodes||[]).find(e)},e.filterChildren=function(t,e){return(t.childNodes||[]).filter((function(t){return e(t)}))},e.getChildIndex=r,e.getNextSibling=function(t){var e=r(t,t.childNodes);return t.parentNode&&e<(t.childNodes||[]).length-1?(t.childNodes||[])[e+1]:void 0},e.getSiblings=function(t,e){return void 0===e&&(e=!1),t.parentNode?(t.parentNode.childNodes||[]).filter((function(e){return e!==t})):[]},e.getPreviousSibling=function(t){var e=r(t,t.childNodes);return e>0&&t.parentNode?(t.childNodes||[])[e-1]:void 0},e.visitAncestors=o,e.findAncestor=i,e.findRootElement=function(t){return t?t.parentNode?i(t.parentNode,(function(t){return!t.parentNode})):t:void 0},e.filterAncestors=function(t,e,n){void 0===n&&(n={});var r=[];return o(t,(function(t){return e(t)&&r.push(t),!1})),r},e.visitDescendants=a,e.filterDescendants=function(t,e,n){void 0===n&&(n={});var r=[];return a(t,(function(t){return e(t)&&r.push(t),!1}),n),r},e.mapDescendants=function(t,e,n){void 0===n&&(n={});var r=[];return a(t,(function(t){return r.push(e(t)),!1}),n),r},e.findDescendant=function(t,e,n){var r;return void 0===n&&(n={}),a(t,(function(t){return!!e(t)&&(r=t,!0)}),n),r},e.getAncestors=function(t){for(var e=t,n=[];e&&(e=e.parentNode);)n.push(e);return n},e.getDistanceToAncestor=function t(e,n){return e!==n&&e&&n?t(e.parentNode,n)+1:0}},6049:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeOf=e.isBoolean=e.isString=e.isArray=e.isObject=e.getType=void 0;var n=Object.prototype.toString;function r(t){return n.call(t)}e.getType=r,e.isObject=function(t){return"object"==typeof t&&"[object Object]"===r(t)},e.isArray=Array.isArray||function(t){return"[object Array]"===n.call(t)},e.isString=function(t){return"string"==typeof t},e.isBoolean=function(t){return"boolean"==typeof t||"[object Boolean]"===r(t)},e.typeOf=function(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}},9893:function(t,e){"use strict";function n(t,e){void 0===e&&(e={});var n=t.split("?")[1],r={};if(!n)return r;for(var o=(n=n.split("#")[0]).split("&"),i=0;i<o.length;i++){var a=o[i].split("="),s=a[1]||"";if(e.parseNumber){var u=parseFloat(s);isNaN(u)||(s=u)}e.parseBoolean&&["true","false"].includes(s)&&(s="true"===s),r[a[0]]=s}return r}function r(t){return!!t.match(/^[^:]+:\/\//)}Object.defineProperty(e,"__esModule",{value:!0}),e.parseUrl=e.isAbsoluteUrl=e.getParametersFromUrl=e.getFileNameFromUrl=void 0,e.getFileNameFromUrl=function(t){var e=t.indexOf("#");return((t=-1!==e?t.substring(0,e):t).split("/").pop()||"").replace(/[\?].*$/g,"")},e.getParametersFromUrl=n,e.isAbsoluteUrl=r,e.parseUrl=function(t,e){void 0===e&&(e={});var o=r(t);o||(t="http://foo.com"+(t.startsWith("/")?"":"/")+t);var i=/^([^:]+:)\/\/([^\/]+)(.*)/.exec(t);if(!i)return null;i[0];var a=i[1],s=i[2],u=i[3],c=u,l=c.indexOf("?");-1!==l&&(c=c.substring(0,l)),-1!==(l=c.indexOf("#"))&&(c=c.substring(0,l));var f="";-1!==(l=u.indexOf("?"))&&-1!==(l=(f=u.substring(l)).indexOf("#"))&&(f=f.substring(0,l));var d="";return-1!==(l=u.indexOf("#"))&&(d=u.substring(l)),o||(s="",a=""),{protocol:a,domain:s,pathname:c,search:f,hash:d,params:e.parseParams?n(t):void 0}}},7345:function(t){"use strict";t.exports=(t,e)=>(e=e||(()=>{}),t.then((t=>new Promise((t=>{t(e())})).then((()=>t))),(t=>new Promise((t=>{t(e())})).then((()=>{throw t})))))},5860:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6729),o=n(8147),i=n(6506),a=()=>{},s=new o.TimeoutError;e.default=class extends r{constructor(t){var e,n,r,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=a,this._resolveIdle=a,!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==n?n:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(r=t.interval)||void 0===r?void 0:r.toString())&&void 0!==o?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=!0===t.throwOnTimeout,this._isPaused=!1===t.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=a,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=a,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(void 0===this._intervalId){const e=this._intervalEnd-t;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const e=this._queue.dequeue();return!!e&&(this.emit("active"),e(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,e={}){return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===e.timeout?t():o.default(Promise.resolve(t()),void 0===e.timeout?this._timeout:e.timeout,(()=>{(void 0===e.throwOnTimeout?this._throwOnTimeout:e.throwOnTimeout)&&r(s)}));n(await i)}catch(i){r(i)}this._next()}),e),this._tryToStartAnother(),this.emit("add")}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((t=>{const e=this._resolveEmpty;this._resolveEmpty=()=>{e(),t()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((t=>{const e=this._resolveIdle;this._resolveIdle=()=>{e(),t()}}))}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}},7489:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){let r=0,o=t.length;for(;o>0;){const i=o/2|0;let a=r+i;n(t[a],e)<=0?(r=++a,o-=i+1):o=i}return r}},6506:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7489);e.default=class{constructor(){this._queue=[]}enqueue(t,e){const n={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(n);const o=r.default(this._queue,n,((t,e)=>e.priority-t.priority));this._queue.splice(o,0,n)}dequeue(){const t=this._queue.shift();return null==t?void 0:t.run}filter(t){return this._queue.filter((e=>e.priority===t.priority)).map((t=>t.run))}get size(){return this._queue.length}}},8147:function(t,e,n){"use strict";const r=n(7345);class o extends Error{constructor(t){super(t),this.name="TimeoutError"}}const i=(t,e,n)=>new Promise(((i,a)=>{if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0)return void i(t);const s=setTimeout((()=>{if("function"==typeof n){try{i(n())}catch(s){a(s)}return}const r=n instanceof Error?n:new o("string"==typeof n?n:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),a(r)}),e);r(t.then(i,a),(()=>{clearTimeout(s)}))}));t.exports=i,t.exports.default=i,t.exports.TimeoutError=o},7790:function(){},5272:function(){},2210:function(){},4358:function(){},2786:function(){},6405:function(){},8391:function(){},1270:function(){},5764:function(){},2396:function(){},3558:function(t){"use strict";t.exports={i8:"2.7.4"}}}]);
//# sourceMappingURL=895-e76f4dc9ce309f18cb6f.js.map